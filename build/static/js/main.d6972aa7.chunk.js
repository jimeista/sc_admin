(this.webpackJsonpsit_centre=this.webpackJsonpsit_centre||[]).push([[0],{241:function(e,t,a){e.exports=a(434)},266:function(e,t,a){},420:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n,r,c,i,o=a(0),l=a.n(o),s=a(36),u=a.n(s),d=a(45),m=a(26),f=a(73),p=a(11),b=a(10),y=a.n(b),g=a(27),h=a(41),v=a.n(h),O=Object(d.b)("admin/getCurrentUser",function(){var e=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/sc-api-gateway/acl/users/current",e.next=3,v.a.get("/sc-api-gateway/acl/users/current").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=Object(d.c)({name:"admin",initialState:{data:[],status:"idle",error:null,auth:{data:{},status:"idle",error:""}},reducers:{},extraReducers:(n={},Object(p.a)(n,O.pending,(function(e,t){e.auth.status="loading"})),Object(p.a)(n,O.fulfilled,(function(e,t){e.auth.status="success",e.auth.data=t.payload})),Object(p.a)(n,O.failed,(function(e,t){e.modules.status="failed",e.modules.error=t.payload})),n)}).reducer,j=a(32),k=a(16),w="/sc-roadworks/api/roadworks",x=Object(d.b)("roadmap/fetchOrganizations",Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/sc-roadworks/api/organisations");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),_=Object(d.b)("roadmap/fetchRegions",Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/sc-roadworks/api/regions");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),I=Object(d.b)("roadmap/fetchCategories",Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/sc-roadworks/api/categories");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),C=Object(d.b)("roadmap/fetchRoadMap",Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(w);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),F=Object(d.b)("roadmap/fetchIntersections",Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/sc-roadworks/api/intersections");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),D=Object(d.b)("roadmap/postRoadMap",function(){var e=Object(g.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(w,t.data);case 2:return a=e.sent,e.next=5,v.a.post("/sc-roadworks/api/roadworks/".concat(a.data,"/geometries"),{geometries:t.geometries});case 5:return n=t.mapData.map((function(e){return"polyline"===e.type?e.coordinates:e.coordinates[0]})),e.abrupt("return",{data:JSON.parse(a.config.data),id:a.data,geometries:{type:"polygon",coordinates:n}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=Object(d.b)("roadmap/postIntersections",function(){var e=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/sc-roadworks/api/intersections",t);case 2:return a=e.sent,console.log(a),e.abrupt("return",JSON.parse(a.config.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(d.b)("roadmap/putRoadMap",function(){var e=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.reedit){e.next=11;break}return e.next=3,v.a.put("".concat(w,"/").concat(t.id),Object(k.a)({},t.data.data,{"status-form":t.data.data.status}));case 3:return e.next=5,v.a.delete("/sc-roadworks/api/roadworks/".concat(t.id,"/geometries"));case 5:return e.next=7,v.a.post("/sc-roadworks/api/roadworks/".concat(t.id,"/geometries"),{geometries:t.data.geometries});case 7:return a=t.mapData.map((function(e){return"polyline"===e.type?e.coordinates:e.coordinates[0]})),e.abrupt("return",{reedit:t.reedit,data:t.data.data,id:t.id,geometries:{type:"polygon",coordinates:a}});case 11:return e.next=13,v.a.put("".concat(w,"/").concat(t.id),{"status-form":t.data});case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Object(d.b)("roadmap/deleteRoadMap",function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("".concat(w,"/").concat(t));case 2:return e.abrupt("return",{id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Y=Object(d.c)({name:"roadmap",initialState:{organisations:{status:"idle",data:[],error:null},regions:{status:"idle",data:[],error:null},categories:{status:"idle",data:[],error:null},data:[],status:"idle",error:null,formData:{},current:0,mapData:[],crossListMapData:[],editedId:null,deletedId:null,editedIntersectionId:null,deletedIntersectionId:null,intersections:{status:"idle",error:null,data:[]}},reducers:{formValidate:function(e,t){e.formData=Object(k.a)({},e.formData,{},t.payload)},setCurrent:function(e,t){e.current=t.payload},setMapData:function(e,t){e.mapData=[].concat(Object(j.a)(e.mapData),Object(j.a)(t.payload))},setCrossListMapData:function(e,t){e.crossListMapData=[].concat(Object(j.a)(e.crossListMapData),Object(j.a)(t.payload))},resetMapData:function(e){e.mapData=[]},resetCrossListMapData:function(e){e.crossListMapData=[]},resetData:function(e){e.data=[],e.status="idle"},resetFormData:function(e){e.formData={}},resetIntersectionsData:function(e){e.intersections.data=[],e.intersections.status="idle"},setEditedId:function(e){e.editedId=null},setDeletedId:function(e){e.deletedId=null}},extraReducers:(r={},Object(p.a)(r,x.fulfilled,(function(e,t){e.organisations.status="success",e.organisations.data=t.payload})),Object(p.a)(r,x.pending,(function(e,t){e.organisations.status="loading"})),Object(p.a)(r,x.rejected,(function(e,t){e.organisations.status="failed",e.organisations.error=t.payload})),Object(p.a)(r,_.fulfilled,(function(e,t){e.regions.status="success",e.regions.data=t.payload})),Object(p.a)(r,_.pending,(function(e,t){e.regions.status="loading"})),Object(p.a)(r,_.rejected,(function(e,t){e.regions.status="failed",e.regions.error=t.payload})),Object(p.a)(r,I.fulfilled,(function(e,t){e.categories.status="success",e.categories.data=t.payload})),Object(p.a)(r,I.pending,(function(e,t){e.categories.status="loading"})),Object(p.a)(r,I.rejected,(function(e,t){e.categories.status="failed",e.categories.error=t.payload})),Object(p.a)(r,C.fulfilled,(function(e,t){e.status="success",e.data=t.payload})),Object(p.a)(r,C.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,C.rejected,(function(e,t){e.status="failed",e.error=t.payload})),Object(p.a)(r,F.fulfilled,(function(e,t){e.intersections.status="success",e.intersections.data=t.payload})),Object(p.a)(r,F.pending,(function(e,t){e.intersections.status="loading"})),Object(p.a)(r,F.rejected,(function(e,t){e.intersections.status="failed",e.intersections.error=t.payload})),Object(p.a)(r,D.pending,(function(e){e.status="loading"})),Object(p.a)(r,D.fulfilled,(function(e,t){e.status="success";var a=t.payload.data,n=t.payload.id,r=t.payload.geometries,c=e.categories.data.find((function(e){return e.id===t.payload.data.category})).name,i=e.regions.data.find((function(e){return e.id===t.payload.data.region})).name,o=e.organisations.data.find((function(e){return e.id===t.payload.data.organisation})).name;a=Object(k.a)({},a,{category:c,region:i,organisation:o,id:n,geometries:r}),e.data=[a].concat(Object(j.a)(e.data))})),Object(p.a)(r,S.pending,(function(e,t){e.intersections.status="loading"})),Object(p.a)(r,S.succes,(function(e,t){e.intersections.status="success",e.intersections.data=[t.payload].concat(Object(j.a)(e.intersections.data))})),Object(p.a)(r,N.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,N.fulfilled,(function(e,t){e.status="success";var a=e.data.findIndex((function(e){return e.id===t.payload.id}));if(e.editedId=t.payload.id,t.payload.reedit){console.log(t.payload,t.payload.data);var n=e.categories.data.find((function(e){return e.id===t.payload.data.category})).name,r=e.regions.data.find((function(e){return e.id===t.payload.data.region})).name,c=e.organisations.data.find((function(e){return e.id===t.payload.data.organisation})).name;e.data[a]=Object(k.a)({},t.payload.data,{category:n,region:r,organisation:c,id:t.payload.id}),e.data[a].geometries=t.payload.geometries}else e.data[a].status=Object(k.a)({},e.data[a].status,{},t.payload.data)})),Object(p.a)(r,M.pending,(function(e){e.status="loading"})),Object(p.a)(r,M.fulfilled,(function(e,t){e.status="success",e.data=e.data.filter((function(e){return e.id!==t.payload.id})),e.deletedId=t.payload.id})),r)}),R=Y.actions,T=R.formValidate,V=R.setCurrent,L=R.setMapData,A=R.setCrossListMapData,B=(R.setIntersection,R.resetFormData),P=R.setEditedId,q=R.setDeletedId,z=R.resetCrossListMapData,W=R.resetMapData,U=(R.resetData,R.resetIntersectionsData,Y.reducer),H=a(155),J=Object(d.b)("admin/getRoles",function(){var e=Object(g.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/sc-api-gateway/acl/roles",a=!1,t.roles.forEach((function(e){"SUPER-ADMIN"===e&&(a=!0)})),e.next=5,v.a.get("/sc-api-gateway/acl/roles").then((function(e){return a?e.data:e.data.filter((function(e){return"\u0421\u0443\u043f\u0435\u0440-\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"!==e.repr}))})).catch((function(e){return console.log(e)}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K=Object(d.b)("admin/getModules",function(){var e=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/sc-api-gateway/acl/modules",e.next=3,v.a.get("/sc-api-gateway/acl/modules").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=Object(d.b)("admin/getRoleModules",function(){var e=Object(g.a)(y.a.mark((function e(t){var a,n,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(H.a)(t),e.prev=2,c=y.a.mark((function e(){var t,n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.value,n="/sc-api-gateway/acl/roles/".concat(t.id,"/authorities"),e.next=4,v.a.get(n).then((function(e){return{id:t.id,repr:t.repr,"permitted-modules":e.data}})).catch((function(e){return console.log(e)}));case 4:c=e.sent,a=[].concat(Object(j.a)(a),[c]);case 6:case"end":return e.stop()}}),e)})),n.s();case 5:if((r=n.n()).done){e.next=9;break}return e.delegateYield(c(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()),Q=Object(d.b)("admin/postRoleModules",function(){var e=Object(g.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/sc-api-gateway/acl/roles",t.post_new_role_module).then((function(e){return e.data}));case 2:return a=e.sent,e.next=5,v.a.get("/sc-api-gateway/acl/roles/".concat(a,"/authorities")).then((function(e){return e.data}));case 5:return n=e.sent,e.abrupt("return",Object(k.a)({},t.record_new_role_module,{id:a,"permitted-modules":n}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),X=Object(d.b)("admin/putRoleModule",function(){var e=Object(g.a)(y.a.mark((function e(t){var a,n,r,c,i,o,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.removed.length>0)){e.next=18;break}a=Object(H.a)(t.removed),e.prev=2,a.s();case 4:if((n=a.n()).done){e.next=10;break}return r=n.value,e.next=8,v.a.delete("/sc-api-gateway/acl/authorities/".concat(r));case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),a.e(e.t0);case 15:return e.prev=15,a.f(),e.finish(15);case 18:if(!(t.added.length>0)){e.next=36;break}c=Object(H.a)(t.added),e.prev=20,c.s();case 22:if((i=c.n()).done){e.next=28;break}return o=i.value,e.next=26,v.a.post("/sc-api-gateway/acl/roles/".concat(t.id,"/authorities"),{"module-id":o});case 26:e.next=22;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(20),c.e(e.t1);case 33:return e.prev=33,c.f(),e.finish(33);case 36:return e.next=38,v.a.put("/sc-api-gateway/acl/roles/".concat(t.id),{repr:t.repr});case 38:return e.next=40,v.a.get("/sc-api-gateway/acl/roles/".concat(t.id,"/authorities")).then((function(e){return e.data}));case 40:return l=e.sent,e.abrupt("return",{id:t.id,repr:t.repr,"permitted-modules":l});case 42:case"end":return e.stop()}}),e,null,[[2,12,15,18],[20,30,33,36]])})));return function(t){return e.apply(this,arguments)}}()),Z=Object(d.b)("admin/deleteRoleModule",function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.a.delete("/sc-api-gateway/acl/roles/".concat(t)),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$=Object(d.c)({name:"roles",initialState:{roles:{data:[],status:"idle",error:""},modules:{data:[],status:"idle",error:""},role_modules:{data:[],status:"idle",error:""}},reducers:{resetRoles:function(e){e.roles.status="idle",e.roles.data=[]},resetModules:function(e){e.modules.status="idle",e.modules.data=[]},resetRoleModules:function(e){e.role_modules.status="idle",e.role_modules.data=[]}},extraReducers:(c={},Object(p.a)(c,J.pending,(function(e,t){e.roles.status="loading"})),Object(p.a)(c,J.fulfilled,(function(e,t){e.roles.status="success",e.roles.data=t.payload})),Object(p.a)(c,J.failed,(function(e,t){e.roles.status="failed",e.roles.error=t.payload})),Object(p.a)(c,K.pending,(function(e,t){e.modules.status="loading"})),Object(p.a)(c,K.fulfilled,(function(e,t){e.modules.status="success",e.modules.data=t.payload})),Object(p.a)(c,K.failed,(function(e,t){e.modules.status="failed",e.modules.error=t.payload})),Object(p.a)(c,G.pending,(function(e,t){e.role_modules.status="loading"})),Object(p.a)(c,G.fulfilled,(function(e,t){e.role_modules.status="success",e.role_modules.data=t.payload})),Object(p.a)(c,G.failed,(function(e,t){e.role_modules.status="failed",e.role_modules.error=t.payload})),Object(p.a)(c,Q.pending,(function(e,t){e.role_modules.status="loading"})),Object(p.a)(c,Q.fulfilled,(function(e,t){e.role_modules.status="success",e.role_modules.data=[t.payload].concat(Object(j.a)(e.role_modules.data))})),Object(p.a)(c,Q.failed,(function(e,t){e.role_modules.status="failed",e.role_modules.error=t.payload})),Object(p.a)(c,X.pending,(function(e,t){e.role_modules.status="loading"})),Object(p.a)(c,X.fulfilled,(function(e,t){var a=t.payload;e.role_modules.status="success",e.role_modules.data=e.role_modules.data.map((function(e){return e.id===a.id?a:e}))})),Object(p.a)(c,X.failed,(function(e,t){e.role_modules.status="failed",e.role_modules.error=t.payload})),Object(p.a)(c,Z.pending,(function(e,t){e.role_modules.status="loading"})),Object(p.a)(c,Z.fulfilled,(function(e,t){e.role_modules.status="success";var a=e.role_modules.data.findIndex((function(e){return e.id===t.payload}));e.role_modules.data.splice(a,1)})),Object(p.a)(c,Z.failed,(function(e,t){e.role_modules.status="failed",e.role_modules.error=t.payload})),c)}),ee=$.actions,te=ee.resetRoles,ae=ee.resetModules,ne=ee.resetRoleModules,re=$.reducer,ce=a(201),ie=Object(d.b)("admin/getUsers",Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/sc-api-gateway/acl/users",t=v.a.get("/sc-api-gateway/acl/users").then((function(e){return e.data})),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))),oe=Object(d.c)({name:"roles",initialState:{data:[],status:"idle",error:""},reducers:{},extraReducers:(i={},Object(p.a)(i,ie.pending,(function(e,t){e.status="loading"})),Object(p.a)(i,ie.fulfilled,(function(e,t){e.status="success",e.data=t.payload})),Object(p.a)(i,ie.failed,(function(e,t){e.status="failed",e.error=t.payload})),i)});Object(ce.a)(oe.actions);var le=oe.reducer,se=(a(266),a(49)),ue=a(110),de=a(9),me=a(78),fe=a(47),pe=a(450),be=a(451),ye=a(452),ge=a(453),he=me.a.SubMenu,ve=function(e){var t=e.width,a=Object(o.useState)({collapsed:!1,btnheight:50}),n=Object(de.a)(a,2),r=n[0],c=n[1];Object(o.useEffect)((function(){t<600&&c((function(e){return Object(k.a)({},e,{disabled:!0,collapsed:!1})}))}),[t]);var i=Object(o.useMemo)((function(){return Oe.map((function(e,t){return l.a.createElement(he,{key:e.submenu,icon:t%2===0?l.a.createElement(pe.a,null):l.a.createElement(be.a,null),title:e.submenu,className:"SideNavMenu_style_sub_menu"},e.menuitems.map((function(e){return l.a.createElement(me.a.Item,{key:e,icon:l.a.createElement(ye.a,null),className:"SideNavMenu_style_menu_item"},l.a.createElement(f.b,{to:"".concat(e)},e))})))}))}),[]);return l.a.createElement("div",{style:{width:t<600?"100%":r.collapsed?80:350},className:"SideNavMenu_style"},l.a.createElement(fe.a,{type:"primary",onClick:function(){c((function(e){return Object(k.a)({},e,{collapsed:!e.collapsed})}))},style:{height:r.btnheight,width:"100%"},className:"SideNavMenu_style_button"},t>600&&r.collapsed?l.a.createElement(ge.a,null):"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"),l.a.createElement(me.a,{defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",inlineCollapsed:!(t<600)&&r.collapsed,style:{height:"100%"}},i))},Oe=[{submenu:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0430\u0441\u0442\u0435\u0440-\u0434\u0430\u043d\u043d\u044b\u043c\u0438",menuitems:["\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438","\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u044b","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432","\u041a\u0430\u0440\u0442\u0430 \u0440\u0435\u043c\u043e\u043d\u0442\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442"]},{submenu:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u044c\u044e",menuitems:["\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0438"]},{submenu:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438",menuitems:["\u0420\u043e\u043b\u0438","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"]}],Ee=a(454),je=function(e){var t=e.children;return l.a.createElement("div",{style:{width:"100%",height:"100%"},className:"MainContent_style"},l.a.createElement("div",{className:"header header-user-wrapper MainContent_style_header"},l.a.createElement("div",{className:"MainContent_style_href"}),l.a.createElement("div",{className:"MainContent_style_header"},l.a.createElement(Ee.a,{style:{marginRight:"1rem"}}),l.a.createElement("span",{style:{margin:"0 1rem"},className:"MainContent_style_header_fio"},"\u0424\u0418\u041e/\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"),l.a.createElement(fe.a,{className:"MainContent_style_header_btn"},"\u0412\u044b\u0439\u0442\u0438"))),l.a.createElement("div",{className:"main-content-wrapper MainContent_style_body"},t))},ke=function(e){var t=e.children,a=Object(o.useState)(window.innerWidth),n=Object(de.a)(a,2),r=n[0],c=n[1];return Object(o.useEffect)((function(){var e=function(){c(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),l.a.createElement("div",{className:"App Admin_main_style",style:{display:r<600?"block":"flex"}},l.a.createElement(ve,{width:r}),l.a.createElement(je,null,l.a.createElement("div",{style:{width:"100%",margin:"20px auto",padding:5},className:"Admin_main_style_content"},t)))},we=function(e){var t=e.component,a=Object(ue.a)(e,["component"]),n=Object(m.c)((function(e){return e.admin})).auth;return l.a.createElement(se.b,Object.assign({},a,{render:function(e){return Object.keys(n.data).length>0?l.a.createElement(ke,null,l.a.createElement(t,null)):l.a.createElement(se.a,{to:{pathname:"/\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",state:{from:e.location}}})}}))},xe=a(236),_e=a(437),Ie=a(449),Ce=a(435),Fe=a(436),De=a(455),Se=a(456),Ne=a(457),Me=a(458),Ye=a(119),Re=a(448),Te=a(442),Ve=function(e){var t=e.editing,a=e.dataIndex,n=e.placeholder,r=e.title,c=e.data,i=e.inputType,o=(e.record,e.index,e.children),s=Object(ue.a)(e,["editing","dataIndex","placeholder","title","data","inputType","record","index","children"]),u=Ye.a.Option,d=function(e){switch(e){case"select":return l.a.createElement(Ye.a,{placeholder:n,allowClear:!0},c.map((function(e){return l.a.createElement(u,{key:"".concat(e,"- ").concat(n),value:e},e)})));case"multi-select":return l.a.createElement(Ye.a,{placeholder:"\u041c\u043e\u0434\u0443\u043b\u0438",mode:"multiple",tagRender:function(e){var t=e.label,a=e.closable,n=e.onClose;return l.a.createElement(xe.a,{closable:a,onClose:n,style:{marginRight:3}},t)},style:{width:"100%",marginBottom:15},options:c});case"number":return l.a.createElement(Re.a,{min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")}});default:return l.a.createElement(Te.a,{className:"Edit_input_style",placeholder:n,allowClear:!0})}}(i);return l.a.createElement("td",s,t?l.a.createElement(_e.a.Item,{name:a,style:{margin:0},rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ".concat(r,"!")}]},d):o)},Le=function(e){var t=_e.a.useForm(),a=Object(de.a)(t,1)[0],n=Object(o.useState)(""),r=Object(de.a)(n,2),c=r[0],i=r[1],s=[].concat(Object(j.a)(e.columns),[{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435",dataIndex:"",width:"5%",align:"center",key:"x",render:function(e,t){return u(t)?l.a.createElement("span",null,l.a.createElement("a",{onClick:function(){return f(t.key)},style:{marginRight:8}},l.a.createElement(De.a,{className:"icon_edit_btn_style",title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})),l.a.createElement(Ie.a,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",onConfirm:m},l.a.createElement(Se.a,{className:"icon_edit_btn_style",title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}))):l.a.createElement(Ce.a,null,l.a.createElement("a",{disabled:""!==c,onClick:function(){return d(t,a,i)}},l.a.createElement(Ne.a,{className:"icon_edit_btn_style",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})),l.a.createElement(Ie.a,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u043d\u044b\u043d\u0435?",onConfirm:function(){return p(t)}},l.a.createElement(Me.a,{className:"icon_edit_btn_style",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})))}}]),u=function(e){return e.key===c},d=function(e){a.setFieldsValue(Object(k.a)({},e)),i(e.key)},m=function(){i("")},f=function(){var t=Object(g.a)(y.a.mark((function t(n){var r,c,o,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.validateFields();case 3:r=t.sent,c=Object(j.a)(e.data),o=c.findIndex((function(e){return n===e.key})),l=c[o],e.handleEdit(Object(k.a)({},l,{},r)),i(""),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Validate Failed:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(g.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.handleDelete(a)}catch(n){console.log("Validate Failed:",n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=s.map((function(e){return e.editable?Object(k.a)({},e,{onCell:function(t){return{record:t,inputType:e.type,dataIndex:e.dataIndex,title:e.title,data:e.data,placeholder:e.placeholder,editing:u(t)}}}):e}));return l.a.createElement(_e.a,{form:a,component:!1},l.a.createElement(Fe.a,{components:{body:{cell:Ve}},bordered:!0,dataSource:e.data,columns:b,rowClassName:"editable-row",pagination:{onChange:m},loading:e.loading}))},Ae=a(215),Be=a(216),Pe=a(233),qe=a(237),ze=a(441),We=function(e){Object(qe.a)(a,e);var t=Object(Pe.a)(a);function a(){var e;Object(Ae.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e.handleOk=function(t){e.setState({visible:!1})},e.handleCancel=function(t){e.setState({visible:!1})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=this.props,t=e.btntext,a=e.btnstyle,n=e.title,r=e.children;return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a,{type:"primary",onClick:this.showModal,style:a},t),l.a.createElement(ze.a,{title:n,width:"50%",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,className:"Leaders_style_modal"},r))}}]),a}(l.a.Component),Ue=function(){var e=Object(o.useState)([{key:"0","\u2116":1,"\u0424\u0418\u041e":"\u0421\u0430\u0433\u0438\u043d\u0442\u0430\u0435\u0432 \u0411\u0430\u043a\u044b\u0442\u0436\u0430\u043d \u0410\u0431\u0434\u0438\u0440\u043e\u0432\u0438\u0447","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c":"\u0410\u043a\u0438\u043c \u0433\u043e\u0440\u043e\u0434\u0430","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":["\u0423\u042d\u0438\u0418\u0420"],"\u0424\u043e\u0442\u043e":"\u0444\u043e\u0442\u043e1"},{key:"1","\u2116":2,"\u0424\u0418\u041e":"\u041a\u043e\u0436\u0430\u0433\u0430\u043f\u0430\u043d\u043e\u0432 \u0415\u0440\u043b\u0430\u043d \u0422\u043e\u0445\u0442\u0430\u0440\u0445\u0430\u043d\u043e\u0432\u0438\u0447","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044c \u0430\u043a\u0438\u043c\u0430","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":["\u0423\u0413\u041f\u0438\u0423","\u0423\u0416\u041f","\u0423\u041e\u041a"],"\u0424\u043e\u0442\u043e":"\u0444\u043e\u0442\u043e2"},{key:"2","\u2116":3,"\u0424\u0418\u041e":"\u0411\u0430\u0431\u0430\u043a\u0443\u043c\u0430\u0440\u043e\u0432 \u0415\u0440\u0436\u0430\u043d \u0416\u043e\u043b\u0431\u0430\u043a\u043e\u0432\u0438\u0447","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c":"\u0417\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044c \u0430\u043a\u0438\u043c\u0430","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":["\u0423\u041e\u0417","\u0423\u0422"],"\u0424\u043e\u0442\u043e":"\u0444\u043e\u0442\u043e3"},{key:"3","\u2116":4,"\u0424\u0418\u041e":"\u0411\u0430\u0431\u0430\u043a\u0443\u043c\u0430\u0440\u043e\u0432 \u0415\u0440\u0436\u0430\u043d \u0416\u043e\u043b\u0431\u0430\u043a\u043e\u0432\u0438\u0447","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c":"\u0417\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044c \u0430\u043a\u0438\u043c\u0430","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":["\u0423\u0413\u0410"],"\u0424\u043e\u0442\u043e":"\u0444\u043e\u0442\u043e4"},{key:"4","\u2116":5,"\u0424\u0418\u041e":"\u0411\u0430\u0431\u0430\u043a\u0443\u043c\u0430\u0440\u043e\u0432 \u0415\u0440\u0436\u0430\u043d \u0416\u043e\u043b\u0431\u0430\u043a\u043e\u0432\u0438\u0447","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c":"\u0417\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044c \u0430\u043a\u0438\u043c\u0430","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":["\u0423\u041e\u0420"],"\u0424\u043e\u0442\u043e":"\u0444\u043e\u0442\u043e5"},{key:"5","\u2116":6,"\u0424\u0418\u041e":"\u0411\u0430\u0431\u0430\u043a\u0443\u043c\u0430\u0440\u043e\u0432 \u0415\u0440\u0436\u0430\u043d \u0416\u043e\u043b\u0431\u0430\u043a\u043e\u0432\u0438\u0447","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c":"\u0417\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044c \u0430\u043a\u0438\u043c\u0430","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":["\u0423\u0417\u042d","\u0423\u0413\u041c"],"\u0424\u043e\u0442\u043e":"\u0444\u043e\u0442\u043e6"},{key:"6","\u2116":7,"\u0424\u0418\u041e":"\u0411\u0430\u0431\u0430\u043a\u0443\u043c\u0430\u0440\u043e\u0432 \u0415\u0440\u0436\u0430\u043d \u0416\u043e\u043b\u0431\u0430\u043a\u043e\u0432\u0438\u0447","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c":"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0430\u043f\u0430\u0440\u0430\u0442\u0430 \u0430\u043a\u0438\u043c\u0430","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":["\u0423\u041f\u0438\u0418"],"\u0424\u043e\u0442\u043e":"\u0444\u043e\u0442\u043e7"}]),t=Object(de.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)([{key:"0","\u2116":1,"\u0410\u0431\u0431\u0440\u0435\u0432\u0438\u0430\u0442\u0443\u0440\u0430":"\u0423\u042d\u0438\u0418\u0420","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":"\u0423\u042d\u0438\u0418\u0420-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0438 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f"},{key:"1","\u2116":2,"\u0410\u0431\u0431\u0440\u0435\u0432\u0438\u0430\u0442\u0443\u0440\u0430":"\u0423\u0416\u041f","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":"\u0423\u0416\u041f-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0436\u0438\u043b\u0438\u0449\u043d\u043e\u0439 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438"},{key:"2","\u2116":3,"\u0410\u0431\u0431\u0440\u0435\u0432\u0438\u0430\u0442\u0443\u0440\u0430":"\u0423\u0413\u041c","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":"\u0423\u0413\u041c-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u0438"},{key:"4","\u2116":4,"\u0410\u0431\u0431\u0440\u0435\u0432\u0438\u0430\u0442\u0443\u0440\u0430":"\u0423\u0417\u042d","\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":"\u0423\u0417\u042d-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0435\u043b\u0451\u043d\u043e\u0439 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438"}]),c=Object(de.a)(r,2),i=c[0],s=c[1];return l.a.createElement("div",{className:"Leaders_style"},l.a.createElement(We,{btntext:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",btnstyle:{marginBottom:15},title:"\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"},l.a.createElement(Le,{columns:Je,data:i,setData:s})),l.a.createElement(Le,{columns:He,data:a,setData:n}))},He=[{title:"\u2116",dataIndex:"\u2116",width:"5%"},{title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",dataIndex:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",width:"25%"},{title:"\u0424\u0418\u041e",dataIndex:"\u0424\u0418\u041e",width:"30%",editable:!0},{title:"\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",dataIndex:"\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",width:"35%",type:"multi-select",editable:!0,data:[{label:"\u0423\u042d\u0438\u0418\u0420-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0438 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f",value:"\u0423\u042d\u0438\u0418\u0420"},{label:"\u0423\u0416\u041f-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0436\u0438\u043b\u0438\u0449\u043d\u043e\u0439 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438",value:"\u0423\u0416\u041f"},{label:"\u0423\u0413\u041c-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u0438",value:"\u0423\u0413\u041c"},{label:"\u0423\u0417\u042d-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0435\u043b\u0451\u043d\u043e\u0439 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438",value:"\u0423\u0417\u042d"},{label:"\u0423\u0422-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u0438\u0437\u043c\u0430\u044f",value:"\u0423\u0422"},{label:"\u0423\u0413\u041f\u0438\u0423-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0433\u043e \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u0440\u0431\u0430\u043d\u0438\u0441\u0442\u0438\u043a\u0438",value:"\u0423\u0413\u041f\u0438\u0423"},{label:"\u0423\u041a\u0413\u0421-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u043e\u0439 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u0441\u0440\u0435\u0434\u044b",value:"\u0423\u041a\u0413\u0421"},{label:"\u0423\u0417\u041e-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0435\u043c\u0435\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439",value:"\u0423\u0417\u041e"},{label:"\u0423\u0413\u041a-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0440\u0430\u0434\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f",value:"\u0423\u0413\u041a"},{label:"\u0423\u041f\u0438\u0418-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0438 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0439",value:"\u0423\u041f\u0438\u0418"},{label:"\u0423\u0421\u0411-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0431\u043b\u0430\u0433\u043e\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f",value:"\u0423\u0421\u0411"},{label:"\u0423\u041e\u0420-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f",value:"\u0423\u041e\u0420"},{label:"\u0423\u041e-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f",value:"\u0423O"},{label:"\u0423\u041a-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u044b",value:"\u0423K"},{label:"\u0423\u0421-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043f\u043e\u0440\u0442\u0430",value:"\u0423C"},{label:"\u0423\u041e\u0417-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f",value:"\u0423\u041e\u0417"},{label:"\u0423\u0421\u0438\u0411-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0438 \u0431\u044e\u0434\u0436\u0435\u0442\u0430",value:"\u0423\u0421\u0438\u0411"},{label:"\u0423\u0413\u0410-\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0430\u043a\u0442\u0438\u0432\u043e\u0432",value:"\u0423\u0413\u0410"}],render:function(e){return l.a.createElement("span",null,e.map((function(e){var t=e.length>5?"geekblue":"green";return"loser"===e&&(t="volcano"),l.a.createElement(xe.a,{color:t,key:e,style:{margin:"5px 5px"}},e.toUpperCase())})))}},{title:"\u0424\u043e\u0442\u043e",dataIndex:"\u0424\u043e\u0442\u043e",width:"10%",editable:!0}],Je=[{title:"\u2116",dataIndex:"\u2116",width:"5%"},{title:"\u0410\u0431\u0431\u0440\u0435\u0432\u0438\u0430\u0442\u0443\u0440\u0430",dataIndex:"\u0410\u0431\u0431\u0440\u0435\u0432\u0438\u0430\u0442\u0443\u0440\u0430",width:"20%",editable:!0},{title:"\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",dataIndex:"\u041a\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",width:"50%",editable:!0}],Ke=function(e){var t=Object(m.b)(),a=Object(m.c)((function(e){return e.admin})).auth;return Object(o.useEffect)((function(){t(O())}),[t]),a.data&&a.data.username?l.a.createElement(se.b,{render:function(){return l.a.createElement(se.a,{exact:!0,to:"/\u041a\u0430\u0440\u0442\u0430 \u0440\u0435\u043c\u043e\u043d\u0442\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442",from:"/\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})}}):""},Ge=function(e){e.data;return l.a.createElement(Le,{columns:[],data:[],setData:function(){},loading:!0})},Qe=Object(se.g)((function(){var e=Object(m.c)((function(e){return e.users})).data,t=Object(m.b)();return Object(o.useEffect)((function(){t(ie())}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ge,{data:e}))})),Xe=l.a.memo((function(e){var t=e.options,a=_e.a.useForm(),n=Object(de.a)(a,1)[0],r=Object(m.b)(),c=Object(o.useCallback)(Object(g.a)(y.a.mark((function e(){var a,c,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.validateFields();case 3:a=e.sent,c=[],i=[],t.forEach((function(e){a["permitted-modules"].includes(e.value)&&(c=[].concat(Object(j.a)(c),[e.id]),i=[].concat(Object(j.a)(i),[e.value]))})),o=Object(k.a)({},a,{"permitted-modules":c}),r(Q({post_new_role_module:o,record_new_role_module:a})),n.resetFields(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[n,t]);return l.a.createElement(_e.a,{form:n,className:" Roles_create"},l.a.createElement(_e.a.Item,{name:"repr",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0440\u043e\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f!"}]},l.a.createElement(Te.a,{placeholder:"\u0420\u043e\u043b\u0438",allowClear:!0,style:{width:"60%"}})),l.a.createElement(_e.a.Item,{name:"permitted-modules",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f!"}]},l.a.createElement(Ye.a,{placeholder:"\u041c\u043e\u0434\u0443\u043b\u0438",mode:"multiple",tagRender:Ze,style:{width:"60%"},options:t})),l.a.createElement(_e.a.Item,null,l.a.createElement(fe.a,{type:"primary",htmlType:"submit",className:"standard_btn_admin",onClick:c},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}));function Ze(e){var t=e.label,a=e.closable,n=e.onClose;return l.a.createElement(xe.a,{closable:a,onClose:n,style:{marginRight:3}},t)}var $e=function(e){return[{title:"\u0420\u043e\u043b\u044c",dataIndex:"repr",width:"30%",editable:!0,placeholder:"\u0420\u043e\u043b\u0438"},{title:"\u041c\u043e\u0434\u0443\u043b\u0438",dataIndex:"permitted-modules",type:"multi-select",editable:!0,data:e,render:function(e){return l.a.createElement("span",null,e.map((function(e){var t=e.length>5?"geekblue":"blue";return l.a.createElement(xe.a,{color:t,key:e,style:{margin:"5px 5px"}},e.toUpperCase())})))}}]},et=l.a.memo((function(e){var t=e.role_modules,a=e.options,n=e.modules,r=Object(m.b)(),c=Object(o.useState)([]),i=Object(de.a)(c,2),s=i[0],u=i[1];Object(o.useEffect)((function(){"success"===t.status&&u(function(e){return e.map((function(e){return{key:e.id,repr:e.repr,"permitted-modules":e["permitted-modules"].map((function(e){return e["permitted-module"]})),modules:e["permitted-modules"]}}))}(t.data))}),[t]);return l.a.createElement(Le,{columns:$e(a),data:s,setData:u,loading:"success"!==t.status,handleDelete:function(e){r(Z(e.key))},handleEdit:function(e){var t=[],a=e.modules.map((function(e){return e["permitted-module"]}));t=e["permitted-modules"].filter((function(e){return!a.includes(e)})),t=n.data.filter((function(e){return t.includes(e.name)})).map((function(e){return e.id}));var c;c=e.modules.filter((function(t){return!e["permitted-modules"].includes(t["permitted-module"])})).map((function(e){return e["authority-id"]})),r(X({id:e.key,removed:c,added:t,repr:e.repr,"permitted-modules":e["permitted-modules"]}))}})})),tt=Object(se.g)((function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.roles})),a=t.roles,n=t.modules,r=t.role_modules,c=Object(m.c)((function(e){return e.admin})).auth,i=Object(o.useState)([]),s=Object(de.a)(i,2),u=s[0],d=s[1];return Object(o.useEffect)((function(){return e(J(c.data)),e(K()),function(){e(te()),e(ae()),e(ne())}}),[]),Object(o.useEffect)((function(){return"success"===a.status&&e(G(a.data)),function(){return e(ne())}}),[a]),Object(o.useEffect)((function(){if("success"===n.status){var e=n.data.map((function(e){return{value:e.name,id:e.id}}));d(e)}}),[n]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Xe,{options:u}),l.a.createElement(et,{role_modules:r,options:u,modules:n}))})),at=a(446),nt=a(84),rt=a(218),ct=a(217),it=function(e){return e.map((function(e,t){switch(e.type){case"placemark":return l.a.createElement(nt.b,{key:t,geometry:e.coordinates});case"polyline":return l.a.createElement(nt.d,{key:t,geometry:e.coordinates,options:{fillColor:"#00FF00",strokeColor:"#0000FF",strokeWidth:5}});case"polygon":return l.a.createElement(nt.c,{key:t,geometry:e.coordinates,options:{editorDrawingCursor:"crosshair",editorMaxPoints:5,fillColor:"#00FF00",strokeColor:"#0000FF",strokeWidth:5}});default:return null}}))},ot={center:[43.238949,76.889709],zoom:10},lt=function(){var e=Object(m.c)((function(e){return e.roadmap})),t=e.current,a=e.mapData,n=e.crossListMapData,r=Object(m.b)(),c=Object(o.useState)(""),i=Object(de.a)(c,2),s=i[0],u=i[1],d=Object(o.useState)([]),f=Object(de.a)(d,2),p=f[0],b=f[1],h=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e})),t.current}({active:s,polygons:p});Object(o.useEffect)((function(){h&&h.active!==s&&p.length>0&&h.polygons===p&&(r(L(p)),b([]))}),[s,p,h]);var v=Object(o.useMemo)((function(){return function(e,t){var a={editorDrawingCursor:"crosshair",fillColor:"#00FF00",strokeColor:"#0000FF",strokeWidth:5};return"polygon"===e?l.a.createElement(nt.c,{instanceRef:function(a){return a&&t(a,e)},geometry:[],options:Object(k.a)({},a)}):"polyline"===e?l.a.createElement(nt.d,{instanceRef:function(a){return a&&t(a,e)},geometry:[],options:a}):null}(s,function(){var e=Object(g.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.editor.startDrawing(),t.geometry.events.add("change",(function(e){b((function(t){return[{type:a,coordinates:e.originalEvent.newCoordinates}]}))})),t.editor.events.add("onchange",(function(e){t.startDrawing()})),t.editor.events.add("drawingstop",(function(e){t.editor.stopDrawing(),u("")}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),[s]),O=Object(o.useMemo)((function(){return n.length>0?it(n):it(a)}),[a,n]);return l.a.createElement(l.a.Fragment,null,0===t&&l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:10}},function(e,t){return l.a.createElement("div",null,l.a.createElement(fe.a,{type:"polyline"===e&&"primary",onClick:function(){return t("polyline"===e?"":"polyline")},icon:l.a.createElement(ct.a,null)}),l.a.createElement(fe.a,{type:"polygon"===e&&"primary",style:{margin:"0 10px"},icon:l.a.createElement(rt.a,null),onClick:function(){return t("polygon"===e?"":"polygon")}}))}(s,u),l.a.createElement(fe.a,{onClick:function(){r(W())}},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0443")),l.a.createElement(nt.e,{style:{minWidth:"100%"}},l.a.createElement(nt.a,{width:"100%",height:"calc(100% - 50px)",style:{minHeight:"500px",minWidth:"100%"},defaultState:ot,modules:["geoObject.addon.editor"]},0===t&&v,O)))},st=at.a.Step,ut=function(e){var t=e.steps,a=e.dispatch,n=e.current,r=e.setCurrent,c=e.formValidate,i=e.form,s=e.callback;Object(o.useEffect)((function(){i.resetFields()}),[i]);var u=function(){var e=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.validateFields();case 3:((t=e.sent)["end-date"]||t["start-date"])&&(t["end-date"]=t["end-date"]._i,t["start-date"]=t["start-date"]._i),a(c(t)),a(r(n+1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{style:{width:"100%"}},l.a.createElement(at.a,{current:n,size:"small"},t.map((function(e){return l.a.createElement(st,{key:e.title,title:e.title})}))),l.a.createElement("div",{className:"steps-content"},l.a.createElement(_e.a,{form:i,name:"roadwork-form"},l.a.createElement("div",{style:{width:"100%",display:"flex"}},l.a.createElement("div",{style:{width:"50%"}},t[n].content),l.a.createElement("div",{style:{width:"50%",paddingLeft:10}},l.a.createElement(lt,null))))),l.a.createElement("div",{className:"steps-action"},n>0&&l.a.createElement(fe.a,{style:{margin:"0 8px"},onClick:function(){a(r((function(e){return e-1}))),a(r(n-1))}},"\u041d\u0430\u0437\u0430\u0434"),n<t.length-1&&l.a.createElement(fe.a,{type:"primary",onClick:u},"\u0414\u0430\u043b\u0435\u0435"),3===n&&l.a.createElement(fe.a,{key:"submit",type:"primary",onClick:function(){return s()}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))},dt=a(173),mt=function(e){var t=e.tabs,a=dt.a.TabPane;return l.a.createElement("div",{className:"card-container"},t?l.a.createElement(dt.a,{type:"card",className:"tabs"},t.map((function(e,t){return l.a.createElement(a,{tab:e.title,key:t},e.child)}))):"no tabs data to render")},ft=a(65),pt=a.n(ft),bt=a(120),yt=a(438),gt=a(440),ht=a(444),vt=a(459),Ot=Te.a.TextArea,Et=Ye.a.Option,jt=function(e,t,a){return l.a.createElement(_e.a.Item,null,l.a.createElement(_e.a.Item,{name:e,valuePropName:"value",hidden:"area"!==e&&!a,getValueFromEvent:function(e){return e.target.value}},l.a.createElement(Ot,{style:{height:70},placeholder:t,allowClear:!0})))},kt=function(e,t,a,n){var r=e?l.a.createElement(yt.a,{placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0433\u043e\u0434",allowClear:!1,picker:"year",format:"YYYY"}):l.a.createElement(yt.a,{placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0430\u0442\u0443",allowClear:!1});return l.a.createElement(_e.a.Item,{label:n},l.a.createElement(Te.a.Group,{compact:!0},l.a.createElement(_e.a.Item,{name:a,rules:[{required:!0,message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"}],getValueFromEvent:function(e,t){return pt()(t,"YYYY-MM-DD")}},r),l.a.createElement(_e.a.Item,{name:"is-".concat(a),style:{marginLeft:10},valuePropName:"checked",getValueFromEvent:function(e){return e.target.checked}},l.a.createElement(bt.a,{onChange:t},"\u0413\u043e\u0434"))))},wt={name:"file",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture",headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?ht.a.success("".concat(e.file.name," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d")):"error"===e.file.status&&ht.a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430 ".concat(e.file.name))}},xt=function(e){var t=e.organisations,a=e.regions,n=e.categories,r=e.form,c=Object(o.useState)(!1),i=Object(de.a)(c,2),s=i[0],u=i[1],d=Object(o.useState)(!1),m=Object(de.a)(d,2),f=m[0],p=m[1],b=Object(o.useState)(!1),y=Object(de.a)(b,2),g=y[0],h=y[1],v=Object(o.useState)(!1),O=Object(de.a)(v,2),E=O[0],j=O[1];Object(o.useEffect)((function(){return r.getFieldValue("is-canvas-opened")&&u(r.getFieldValue("is-canvas-opened")),r.getFieldValue("is-closured")&&p(r.getFieldValue("is-closured")),r.getFieldValue("is-start-date")&&h(!!r.getFieldValue("is-start-date")),r.getFieldValue("is-end-date")&&j(r.getFieldValue(!0)),function(){u(!1),p(!1)}}),[r]);return l.a.createElement(l.a.Fragment,null,function(e){var t=e.regions,a=e.organisations,n=e.categories,r=[{name:"category",placeholder:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u044f \u0440\u0430\u0431\u043e\u0442",options:"success"===n.status?n.data.map((function(e){return e.name})):[]},{name:"organisation",placeholder:"\u041e\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043d\u043d\u044b\u0439 \u043e\u0440\u0433\u0430\u043d",options:"success"===a.status?a.data.map((function(e){return e.name})):[]},{name:"region",placeholder:"\u0420\u0430\u0439\u043e\u043d",options:"success"===t.status?t.data.map((function(e){return e.name})):[]}];return l.a.createElement("div",null,r.map((function(e,t){return l.a.createElement(_e.a.Item,{name:e.name,rules:[{required:!0,message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"}],key:"".concat(e.name).concat(t),hasFeedback:!0},l.a.createElement(Ye.a,{placeholder:e.placeholder,style:{width:300},allowClear:!0},e.options.map((function(e){return l.a.createElement(Et,{value:e,key:e},e)}))))})))}({regions:a,organisations:t,categories:n}),l.a.createElement(_e.a.Item,{name:"address"},l.a.createElement(Te.a,{placeholder:"\u0410\u0434\u0440\u0435\u0441/\u0423\u043b\u0438\u0446\u0430"})),jt("area","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u0447\u0430\u0441\u0442\u043a\u0430",!0),l.a.createElement(_e.a.Item,{name:"is-closured",noStyle:!0,valuePropName:"checked",getValueFromEvent:function(e){return e.target.checked}},l.a.createElement(bt.a,{onChange:function(){return p((function(e){return!e}))}},"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0443\u043b\u0438\u0446"," ")),jt("closure-description","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u044f",f),l.a.createElement(_e.a.Item,{name:"is-canvas-opened",noStyle:!0,valuePropName:"checked"},l.a.createElement(bt.a,{onChange:function(){return u((function(e){return!e}))}},"\u0412\u0441\u043a\u0440\u044b\u0442\u0438\u0435 \u0434\u043e\u0440\u043e\u0436\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u043e\u0442\u043d\u0430"," ")),jt("canvas-description","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0441\u043a\u0440\u044b\u0442\u0438\u044f",s),kt(g,(function(e){return h(!!e.target.checked)}),"start-date","\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430"),kt(E,(function(e){return j(!!e.target.checked)}),"end-date","\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"),l.a.createElement(_e.a.Item,{name:"file-paths",valuePropName:"fileList"},l.a.createElement(gt.a,wt,l.a.createElement(fe.a,{icon:l.a.createElement(vt.a,null)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a / \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044e"))))};var _t=a(226),It=a.n(_t),Ct=(a(419),function(){var e=Object(o.useState)(),t=Object(de.a)(e,2),a=t[0],n=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(_e.a.Item,{name:"lot-name"},l.a.createElement(Te.a,{placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (\u2116 \u043b\u043e\u0442\u0430)"})),l.a.createElement(_e.a.Item,{name:"company-name"},l.a.createElement(Te.a,{placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})),l.a.createElement(_e.a.Item,{name:"supervisor-name"},l.a.createElement(Te.a,{placeholder:"\u0424\u0418\u041e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f"})),l.a.createElement(_e.a.Item,{name:"contacts"},l.a.createElement(It.a,{country:"kz",value:a,onChange:function(e){return n({phone:e})}})),l.a.createElement(_e.a.Item,{name:"warranty-period"},l.a.createElement(Te.a,{placeholder:"\u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0439\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434"})))}),Ft=Te.a.TextArea,Dt=function(){var e=Object(o.useState)(!0),t=Object(de.a)(e,2),a=(t[0],t[1]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(_e.a.Item,{name:"percentage",rules:[{required:!0,message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"}],label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f (%)"},l.a.createElement(Re.a,{style:{width:"120px"},min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")}})),l.a.createElement(_e.a.Item,{name:"commentary"},l.a.createElement(Ft,{style:{height:90},placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})),l.a.createElement(_e.a.Item,{name:"is-hidden",valuePropName:"checked",getValueFromEvent:function(e){return e.target.checked}},l.a.createElement(bt.a,null," \u0421\u043a\u0440\u044b\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u043a\u0430\u0440\u0442\u044b")),l.a.createElement(_e.a.Item,{name:"is-canceled",valuePropName:"checked",getValueFromEvent:function(e){return e.target.checked},noStyle:!0},l.a.createElement(bt.a,{onChange:function(e){return e.target.checked?a(!1):a(!0)}},"\u0417\u0430\u043a\u0443\u043f \u0440\u0430\u0431\u043e\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d / \u043f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d")))},St=function(e){switch(e){case"area":return"\u0423\u0447\u0430\u0441\u0442\u043e\u043a";case"address":return"\u0410\u0434\u0440\u0435\u0441/\u0443\u043b\u0438\u0446\u0430";case"contractor":return"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a";case"category":return"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u044f \u0440\u0430\u0431\u043e\u0442";case"end-date":return"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f";case"is-end-date":return"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043e";case"start-date":return"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430";case"is-start-date":return"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u043e \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043e";case"closure-description":return"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u044f";case"is-closured":return"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u044f \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043e";case"organisation":return"\u041e\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043d\u043d\u044b\u0439 \u043e\u0440\u0433\u0430\u043d";case"file-paths":return"\u0424\u0430\u0439\u043b";case"lot-name":return"\u041b\u043e\u0442";case"percentage":return"\u0421\u0442\u0430\u0442\u0443\u0441 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f (%)";case"region":return"\u0420\u0430\u0439\u043e\u043d";case"supervisor-name":return"\u0424\u0418\u041e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f";case"contacts":return"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b";case"warranty-period":return"\u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0439\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434";case"canvas-description":return"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0441\u043a\u0440\u044b\u0442\u0438\u044f";case"is-canvas-opened":return"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0441\u043a\u0440\u044b\u0442\u0438\u044f \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043e";case"company-name":return"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438";case"canceled-comment":return"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0437\u0430\u043a\u0443\u043f\u0430 \u043e\u0442\u043c\u0435\u043d\u044b";case"percentage-comment":return"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 %";case"is-hidden":return"\u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u043a\u0440\u044b\u0442";case"is-canceled":return"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d";case"commentary":return"\u0421\u0442\u0430\u0442\u0443\u0441 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f";default:return e}},Nt=function(e){var t=[];return Object.keys(e).map((function(a){"undefined"!==typeof e[a]&&"object"!==typeof e[a]&&"is-start-date"!==a&&"is-end-date"!==a&&"key"!==a&&"id"!==a?t.push({name:a,value:e[a]}):void 0===e[a]&&"is"===a.split("-")[0]?t.push({name:a,value:!1}):void 0===e[a]&&t.push({name:a,value:null})})),t},Mt=function(e,t,a,n){var r,c={},i=!1,o=!1,l=null;return e.forEach((function(e){if("is-hidden"!==e.name||"is-canceled"!==e.name||"commentary"!==e.name||"percentage"!==e.name||"is-end-date"!==e.name||"is-start-date"!==e.name)if("percentage"===e.name&&(r=e.value),"is-canceled"===e.name&&(o=e.value),"is-hidden"===e.name&&(i=e.value),"commentary"===e.name&&(l=e.value),"end-date"===e.name||"start-date"===e.name)c=e.value.length>4?Object(k.a)({},c,Object(p.a)({},e.name,e.value)):Object(k.a)({},c,Object(p.a)({},e.name,"".concat(e.value,"-01-01")));else if("category"===e.name){var s=t.data.find((function(t){return t.name===e.value})).id;c=Object(k.a)({},c,Object(p.a)({},e.name,s))}else if("organisation"===e.name){var u=a.data.find((function(t){return t.name===e.value})).id;c=Object(k.a)({},c,Object(p.a)({},e.name,u))}else if("region"===e.name){var d=n.data.find((function(t){return t.name===e.value})).id;c=Object(k.a)({},c,Object(p.a)({},e.name,d))}else c=Object(k.a)({},c,Object(p.a)({},e.name,e.value))})),c=Object(k.a)({},c,{status:{percentage:r,"is-hidden":i,"is-canceled":o,commentary:l}})},Yt=function(e){return e.map((function(e){return"polyline"===e.type?e.coordinates.map((function(e){return{y:e[1],x:e[0]}})):"polygon"===e.type?e.coordinates[0].map((function(e){return{y:e[1],x:e[0]}})):[{y:e.coordinates[1],x:e.coordinates[0]}]}))},Rt=function(e){var t=e.ob,a=Object(o.useMemo)((function(){var e=Nt(t);return e=e.filter((function(e){return"object"!==typeof e.value&&"boolean"!==typeof e.value}))}),[t]).map((function(e){return l.a.createElement(_e.a.Item,{key:e.name,label:l.a.createElement("span",{style:{color:"#92B4A7"}},St(e.name))},e.value)}));return l.a.createElement(l.a.Fragment,null,a)},Tt=function(e){var t=e.form,a=e.callback,n=e.record,r=Object(m.c)((function(e){return e.roadmap})),c=r.current,i=r.organisations,s=r.regions,u=r.categories,d=r.formData,f=Object(m.b)(),p=Vt(i,s,u,d,t,f);return Object(o.useEffect)((function(){n&&t.setFieldsValue(Object(k.a)({},n,{"start-date":pt()(n["start-date"],"YYYY/MM/DD"),"end-date":pt()(n["end-date"],"YYYY/MM/DD")}))}),[]),l.a.createElement(ut,{steps:p,current:c,setCurrent:V,formValidate:T,dispatch:f,form:t,callback:a})},Vt=function(e,t,a,n,r,c){return[{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442",content:l.a.createElement(xt,{organisations:e,regions:t,categories:a,form:r,dispatch:c})},{title:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430",content:l.a.createElement(Ct,null)},{title:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0440\u0430\u0431\u043e\u0442",content:l.a.createElement(Dt,null)},{title:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",content:l.a.createElement(Rt,{ob:n})}]},Lt=function(){var e=Object(o.useState)(!1),t=Object(de.a)(e,2),a=t[0],n=t[1],r=Object(m.b)(),c=Object(m.c)((function(e){return e.roadmap})),i=c.organisations,s=c.regions,u=c.categories,d=c.formData,f=c.status,p=c.mapData,b=_e.a.useForm(),h=Object(de.a)(b,1)[0],v=Object(o.useCallback)(Object(g.a)(y.a.mark((function e(){var t,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=Nt(d),a=Mt(t,u,i,s),c=Yt(p),r(D(a={data:a,geometries:c,mapData:p})),r(V(0)),r(W()),"success"===f&&n(!1)}catch(o){console.log(o.message)}case 1:case"end":return e.stop()}}),e)}))),[u,d,r,p,i,f,s]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a,{type:"primary",onClick:function(){r(V(0)),n(!0)},style:{marginBottom:10}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),"success"===f&&l.a.createElement(ze.a,{title:"\u0424\u043e\u0440\u043c\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u0440\u0435\u043c\u043e\u043d\u0442\u043d\u044b\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u043c",visible:a,onOk:function(){r(V(0)),n(!1)},onCancel:function(){r(V(0)),n(!1),r(W()),h.resetFields()},width:"80%",footer:null},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement(Tt,{form:h,callback:v}))))},At=function(e){var t=e.visible,a=e.setVisible,n=e.record,r=_e.a.useForm(),c=Object(de.a)(r,1)[0],i=Object(m.c)((function(e){return e.roadmap})),s=i.organisations,u=i.regions,d=i.categories,f=i.status,p=i.mapData,b=i.formData,h=Object(m.b)();Object(o.useEffect)((function(){var e=n.geometries.coordinates;if(e.length>0){var t=e.map((function(e){return e[0][0]==e[e.length-1][0]?{type:"polygon",coordinates:[e]}:{type:"polyline",coordinates:e}}));h(L(t))}return function(){h(W()),h(B({})),c.setFieldsValue({})}}),[]);var v=function(){a(!1)},O=Object(o.useCallback)(Object(g.a)(y.a.mark((function e(){var t,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=Nt(b),r=Mt(t,d,s,u),i=Yt(p),r={data:r,geometries:i},h(V(0)),h(N({reedit:!0,data:r,id:n.id,mapData:p})),c.resetFields(),"success"===f&&a(!1)}catch(o){console.log(o.message)}case 1:case"end":return e.stop()}}),e)}))),[d,s,u,p,b,c,n,a,f]);return l.a.createElement(ze.a,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0443\u043b\u0438\u0446\u044b",visible:t,width:"50%",onCancel:v,onOk:v,footer:[]},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement(Tt,{form:c,callback:O,record:n})))},Bt=function(e){var t={},a=[];if("success"===e.status){for(var n=e.data,r=0;r<n.length;r++)t=Object(k.a)({},t,Object(p.a)({},n[r].name,n[r].name));a=Object.keys(t).map((function(e){return{text:e,value:e}}))}return a},Pt=["2018","2019","2020","2021","2022"].map((function(e){return{value:e,text:e}})).reverse(),qt=function(){var e=Object(m.c)((function(e){return e.roadmap})),t=e.organisations,a=e.categories,n=e.status,r=e.data,c=e.editedId,i=e.deletedId,s=Object(m.b)(),u=Object(o.useState)(!1),d=Object(de.a)(u,2),f=d[0],b=d[1],y=Object(o.useState)({}),g=Object(de.a)(y,2),h=g[0],v=g[1],O=Object(o.useState)([]),E=Object(de.a)(O,2),j=E[0],w=E[1],x=Object(o.useState)(),_=Object(de.a)(x,2),I=_[0],C=_[1],F=_e.a.useForm(),D=Object(de.a)(F,1)[0],S=Object(o.useMemo)((function(){return function(e,t,a,n){return[{title:"\u2116",dataIndex:"id",key:"id",width:"2%",align:"center",render:function(e,t){return l.a.createElement("a",{onClick:function(){n(t),a(!0)}},e)}},{title:"\u0423\u043b\u0438\u0446\u0430",dataIndex:"address",key:"address",render:function(e,t){return l.a.createElement(l.a.Fragment,null,e)}},{title:"\u0423\u0447\u0430\u0441\u0442\u043e\u043a",dataIndex:"area",key:"area"},{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0440\u0430\u0431\u043e\u0442",dataIndex:"category",key:"category",filters:Bt(t),onFilter:function(e,t){return 0===t.category.indexOf(e)}},{title:"\u041e\u0442\u0432 \u043e\u0440\u0433\u0430\u043d",dataIndex:"organisation",key:"organisation",filters:Bt(e),onFilter:function(e,t){return 0===t.organisation.indexOf(e)}},{title:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",dataIndex:"start-date",key:"start-date",width:"10%",align:"center",filters:Pt,onFilter:function(e,t){return 0===t["start-date"].indexOf(e)}},{title:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",dataIndex:"end-date",key:"end-date",width:"10%",align:"center",filters:Pt,onFilter:function(e,t){return 0===t["end-date"].indexOf(e)}},{title:"\u0421\u0442\u0430\u0442\u0443\u0441 (%)",dataIndex:"percentage",key:"percentage",editable:!0,width:"5%",rule:!0,type:"number",align:"center",sorter:function(e,t){return t.percentage-e.percentage},sortDirections:["ascend"]}]}(t,a,b,v)}),[t,a,b,v]);Object(o.useEffect)((function(){if(I){if(c){var e=j.find((function(e){return e.id===c}));C((function(t){return t.map((function(t){return t.id===c?e:t}))})),s(P())}i&&(C((function(e){return e.filter((function(e){return e.id!==i}))})),s(q()))}}),[j,i,c,I]),Object(o.useMemo)((function(){w(r.map((function(e){var t={key:e.id};return Object.keys(e).forEach((function(a){t="status"===a?Object(k.a)({},t,{percentage:e[a].percentage,"is-hidden":e[a]["is-hidden"],"is-canceled":e[a]["is-canceled"],commentary:e[a].commentary}):Object(k.a)({},t,Object(p.a)({},a,e[a]))})),t})))}),[r]);return l.a.createElement(_e.a,{form:D},l.a.createElement(_e.a.Item,{name:"search"},l.a.createElement(Te.a,{allowClear:!0,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0443\u043b\u0438\u0446\u0435",onChange:function(e){C(j.filter((function(t){return!(!t.address||!t.address.toLowerCase().includes(e.target.value.toLowerCase()))||t.id.toString().includes(e.target.value.toLowerCase())})))},style:{width:300}})),l.a.createElement(_e.a.Item,{name:"table"},l.a.createElement(Le,{columns:S,data:I||j,setData:w,handleEdit:function(e){s(N({reedit:!1,data:{percentage:e.percentage},id:e.id}))},handleDelete:function(e){s(M(e.id))},loading:"loading"===n})),f&&l.a.createElement(_e.a.Item,{name:"modal"},l.a.createElement(At,{visible:f,setVisible:b,record:h})))},zt=function(){var e=Object(m.b)();return Object(o.useEffect)((function(){e(x()),e(_()),e(I()),e(C())}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Lt,null),l.a.createElement(qt,null))},Wt=Ye.a.Option,Ut=function(){var e=Object(m.c)((function(e){return e.roadmap})),t=e.categories,a=e.data,n=Object(o.useState)([1,2]),r=Object(de.a)(n,2),c=r[0],i=r[1],s=Object(o.useState)(),u=Object(de.a)(s,2),d=u[0],f=u[1],b=Object(m.b)();return l.a.createElement("div",{style:{marginBottom:20}},l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},c.map((function(e){return function(e){var n="success"===t.status?t.data.map((function(e){return e.name})):[];return l.a.createElement(_e.a.Item,{style:{marginRight:20}},l.a.createElement(_e.a.Item,{name:"category-".concat(e),rules:[{required:!0,message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"}]},l.a.createElement(Ye.a,{placeholder:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0440\u0430\u0431\u043e\u0442",style:{width:240},allowClear:!0,onChange:function(t){return f((function(n){return Object(k.a)({},n,Object(p.a)({},e,a.filter((function(e){return e.category===t})).map((function(e){return e.id}))))}))}},n.map((function(e,t){return l.a.createElement(Wt,{value:e,key:e},e)})))),d&&d[e]&&l.a.createElement(_e.a.Item,{name:"roadwork-".concat(e),rules:[{required:!0,message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"}],key:"roadwork-".concat(e)},l.a.createElement(Ye.a,{placeholder:"\u0420\u0430\u0431\u043e\u0442\u0430 ".concat(e),style:{width:240},allowClear:!0,onChange:function(e){return b(A([{type:"polygon",coordinates:a.find((function(t){return t.id===e})).geometries.coordinates}]))}},d[e].map((function(e,t){return l.a.createElement(Wt,{value:e,key:e},e)})))))}(e)}))),l.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:15}},l.a.createElement("div",{style:{marginRight:25}},l.a.createElement(fe.a,{size:"small",type:"primary",shape:"circle",onClick:function(){return i([].concat(Object(j.a)(c),[c.length+1]))}},"+")," ",l.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443")),l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a,{disabled:2===c.length,size:"small",type:"primary",shape:"circle",onClick:function(){i(Object(j.a)(c.filter((function(e){return e!==c.length}))))}},"-")," ",l.a.createElement("span",{style:{marginLeft:5}},"\u0423\u0431\u0440\u0430\u0442\u044c"))),l.a.createElement(_e.a.Item,{name:"area"},l.a.createElement(Te.a,{placeholder:"\u0423\u0447\u0430\u0441\u0442\u043e\u043a \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u044f",style:{width:"30%",marginTop:15}})))},Ht=function(){var e=Object(o.useState)(),t=Object(de.a)(e,2),a=t[0],n=t[1],r=_e.a.useForm(),c=Object(de.a)(r,1)[0],i=Object(m.b)(),s=function(){var e=Object(g.a)(y.a.mark((function e(){var t,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.validateFields();case 2:t=e.sent,a=Object.values(t),r=a.filter((function(e){return"string"!==typeof e})),t={"roadwork-ids":r,"intersection-area":t.area},i(S(t)),i(z()),c.resetFields(),n(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=[l.a.createElement(fe.a,{key:"back",onClick:function(){return n(!1)}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),l.a.createElement(fe.a,{key:"submit",type:"primary",onClick:s},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")];return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a,{type:"primary",onClick:function(){i(V(1)),n(!0)},style:{marginBottom:10}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u0435"),l.a.createElement(ze.a,{title:"\u0424\u043e\u0440\u043c\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u044e \u0440\u0430\u0431\u043e\u0442",visible:a,onCancel:function(){i(z()),c.resetFields(),n(!1)},width:"80%",footer:u},l.a.createElement(_e.a,{form:c},l.a.createElement(Ut,null),l.a.createElement("div",{style:{width:"100%",paddingLeft:10}},l.a.createElement(lt,null)))))},Jt=function(e){var t=e.visible,a=e.setVisible,n=e.record,r=e.data,c=Object(o.useState)([]),i=Object(de.a)(c,2),s=i[0],u=i[1],d=Object(m.b)();return Object(o.useEffect)((function(){var e=Object.keys(n).filter((function(e){return"\u0420\u0430\u0431\u043e\u0442\u0430"===e.substring(0,6)&&n[e]})).map((function(e){return n[e]})),t=[];e.forEach((function(e){r.forEach((function(a){a.id===e&&(t=[].concat(Object(j.a)(t),[a]))}))}));var a=t.map((function(e){return{type:"polygon",coordinates:e.geometries.coordinates}}));return a=[].concat(Object(j.a)(a),[{type:"placemark",coordinates:n.coordinates}]),u(t),d(V(1)),d(A(a)),function(){d(V(0)),d(z())}}),[]),l.a.createElement(ze.a,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0443\u043b\u0438\u0446\u044b",visible:t,width:"50%",onCancel:function(){return a(!1)},onOk:function(){return a(!1)},footer:[l.a.createElement(fe.a,{key:"close",onClick:function(){return a(!1)}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")]},l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",width:"90%",margin:"auto"}},s.map((function(e,t){return l.a.createElement("div",{style:{width:"".concat(s.length>2?"33%":"50%")}},l.a.createElement("h2",null,"\u0420\u0430\u0431\u043e\u0442\u0430 ",t+1),l.a.createElement(Rt,{ob:e}))}))),l.a.createElement("div",{style:{width:"100%",paddingLeft:10}},l.a.createElement(lt,null)))},Kt=function(){var e=Object(m.c)((function(e){return e.roadmap})),t=e.categories,a=e.intersections,n=e.data,r=e.editedId,c=Object(m.b)(),i=Object(o.useState)(!1),s=Object(de.a)(i,2),u=s[0],d=s[1],f=Object(o.useState)({}),b=Object(de.a)(f,2),y=b[0],g=b[1],h=Object(o.useState)([]),v=Object(de.a)(h,2),O=v[0],E=v[1],w=Object(o.useState)(),x=Object(de.a)(w,2),_=x[0],I=x[1],C=_e.a.useForm(),F=Object(de.a)(C,1)[0];Object(o.useEffect)((function(){if(r&&_){var e=O.find((function(e){return e.id===r}));console.log("editing filtered data"),I((function(t){return t.map((function(t){return t.id===r?e:t}))})),c(P({just_id:!1}))}}),[O,r,_]);var D=Object(o.useMemo)((function(){return function(e,t,a,n){var r=[];if("success"===a.status){var c=0;a.data.forEach((function(e){e["roadwork-ids"].length>c&&(c=e["roadwork-ids"].length)}));for(var i=0;i<c;i++)r=[].concat(Object(j.a)(r),[{title:"\u0420\u0430\u0431\u043e\u0442\u0430 ".concat(i+1),dataIndex:"\u0420\u0430\u0431\u043e\u0442\u0430 ".concat(i+1),key:"\u0420\u0430\u0431\u043e\u0442\u0430 ".concat(i+1),width:"10%",align:"center"}])}var o=[{title:"\u2116",dataIndex:"\u2116",key:"\u2116",width:"2%",align:"center",render:function(a,n){return l.a.createElement("a",{onClick:function(){t(n),e(!0)}},a)}},{title:"\u0423\u043b\u0438\u0446\u0430",dataIndex:"address",key:"address",width:"20%"},{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0440\u0430\u0431\u043e\u0442",dataIndex:"category",width:"30%",key:"category",filters:Bt(n),onFilter:function(e,t){return 0===t.category.indexOf(e)}}];return[].concat(o,Object(j.a)(r))}(d,g,a,t)}),[d,g,a,t]);Object(o.useMemo)((function(){E(function(e,t){var a=[];return"success"===t.status&&(a=t.data.map((function(t,a){var n={"\u2116":a+1,key:a+1,address:t["intersection-area"],coordinates:t.intersection.coordinates};return t["roadwork-ids"].forEach((function(t,a){var r=e.find((function(e){return e.id===t}));n=Object(k.a)({},n,Object(p.a)({category:r?r.category:""},"\u0420\u0430\u0431\u043e\u0442\u0430 ".concat(a+1),t))})),n}))),a}(n,a))}),[n,a]);return l.a.createElement(_e.a,{form:F},l.a.createElement(_e.a.Item,{name:"search"},l.a.createElement(Te.a,{allowClear:!0,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0443\u043b\u0438\u0446\u0435",onChange:function(e){I(O.filter((function(t){return t.address&&t.address.toLowerCase().includes(e.target.value.toLowerCase())})))},style:{width:300}})),l.a.createElement(_e.a.Item,{name:"table"},l.a.createElement(Le,{columns:D,data:_||O,setData:E,handleEdit:function(e){console.log(e,"run bitch")},handleDelete:function(e){c(M(e.id))},loading:"success"!==a.status})),u&&l.a.createElement(_e.a.Item,{name:"modal"},l.a.createElement(Jt,{visible:u,setVisible:d,record:y,data:n})))},Gt=function(){var e=Object(m.b)();return Object(o.useEffect)((function(){e(F())}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ht,null),l.a.createElement(Kt,null))},Qt=function(){return l.a.createElement(mt,{tabs:Xt})},Xt=[{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442",child:l.a.createElement(zt,null)},{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u0439",child:l.a.createElement(Gt,null)}],Zt=(a(420),a(199),Object(se.g)((function(){return l.a.createElement(Qt,null)}))),$t=Object(o.createContext)(),ea=function(e){var t=e.children,a=Object(o.useState)(),n=Object(de.a)(a,2),r=n[0],c=n[1],i=Object(o.useState)(),s=Object(de.a)(i,2),u=s[0],d=s[1],m=Object(o.useState)(),f=Object(de.a)(m,2),p=f[0],b=f[1],y=Object(o.useState)(null),g=Object(de.a)(y,2),h=g[0],v=g[1],O=Object(o.useState)({}),E=Object(de.a)(O,2),j=E[0],k=E[1],w=Object(o.useState)(),x=Object(de.a)(w,2),_=x[0],I=x[1],C=Object(o.useState)({loading:!0}),F=Object(de.a)(C,2),D=F[0],S=F[1],N=Object(o.useState)({loading:!0}),M=Object(de.a)(N,2),Y=M[0],R=M[1],T=Object(o.useState)({loading:!0}),V=Object(de.a)(T,2),L=V[0],A=V[1],B=Object(o.useState)({loading:!0}),P=Object(de.a)(B,2),q=P[0],z=P[1],W=Object(o.useState)(),U=Object(de.a)(W,2),H=U[0],J=U[1];return l.a.createElement($t.Provider,{value:{selectedValue:r,setSelectedValue:c,filteredData:h,setFilteredData:v,indicators:j,setIndicators:k,dictionary_names:ta,searchText:_,setSearchText:I,fetchedDictionaryData:D,setFetchedDictionaryData:S,fetchedIndicatorData:L,setFetchedIndicatorData:A,fetchedIndicatorStrategyData:q,setFetchedIndicatorStrategyData:z,fetchedIndicatorInfoData:Y,setFetchedIndicatorInfoData:R,selectedDictionaryName:u,setSelectedDictionaryName:d,selectedIndustry:p,setSelectedIndustry:b,modalIndicator:H,setModalIndicator:J}},t)},ta=["\u0421\u0444\u0435\u0440\u0430","\u0413\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430","\u041f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f","\u0415\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f","\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043e\u0440\u0433\u0430\u043d","\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438","\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"],aa=function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),na=function(){var e=Object(g.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ra=function(){var e=Object(g.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.put(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ca=function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ia=function(e){var t=e.handleAdd,a=e.text2,n=e.text1,r=e.text3,c=e.style,i=void 0===c?{margin:"5 0"}:c,o=e.text,s=void 0===o?"+":o,u=function(){return t()};return function(e,t,a){return e?l.a.createElement(fe.a,{type:"primary",onClick:u,style:i,className:"AdminButton_style",title:e},s):t?l.a.createElement(fe.a,{type:"primary",onClick:u,style:i,className:"AdminButton_style",title:t},s):a?l.a.createElement(fe.a,{type:"primary",onClick:u,style:i,className:"AdminButton_style",title:a},s):void 0}(n,a,r)},oa=a(445),la=function(e){var t=e.title;return l.a.createElement(oa.a,{title:t,bordered:!1,style:{width:"100%"},className:"AdminCard_style"},e.children)},sa=(a(443),function(e){var t,a=e.isLink,n=e.isStrategy,r=Object(o.useState)(!1),c=Object(de.a)(r,2),i=c[0],s=c[1],u=Object(o.useContext)($t),d=u.dictionary_names,m=u.setModalIndicator,f=u.fetchedDictionaryData,b=u.fetchedIndicatorData,h=u.setFetchedIndicatorData,v=[];Object(o.useEffect)((function(){aa("/sc-analytic-indicators/api/indicators").then((function(e){h({loading:!1,data:e.data})}))}),[]);var O=[].concat(Object(j.a)(d),["\u041e\u0442\u0440\u0430\u0441\u043b\u044c"]);(O=O.filter((function(e){return n?"\u0421\u0444\u0435\u0440\u0430"!==e:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"!==e}))).sort();var E={},w={};if(!f.loading){var x;f.data.map((function(e){if(E=Object(k.a)({},E,Object(p.a)({},e.name,e.options.map((function(e){return e.name})))),n?"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"===e.name:"\u0421\u0444\u0435\u0440\u0430"===e.name){var t,a=e.options.map((function(e){return e.options.map((function(e){return e.name}))}));E=Object(k.a)({},E,{"\u041e\u0442\u0440\u0430\u0441\u043b\u044c":(t=[]).concat.apply(t,Object(j.a)(a))})}w=Object(k.a)({},w,Object(p.a)({},e.name,e.options.map((function(e){return{title:e.name,value:e.name,id:e.id,children:[]}}))))}));var _=f.data.find((function(e){return n?"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"===e.name:"\u0421\u0444\u0435\u0440\u0430"===e.name}));w=Object(k.a)({},w,{"\u041e\u0442\u0440\u0430\u0441\u043b\u044c":(x=[]).concat.apply(x,Object(j.a)(_.options.map((function(e){return e.options.map((function(e){return{title:e.name,value:e.name,id:e.id,children:[]}}))}))))})}(t=[{title:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440",dataIndex:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440",width:250,editable:!0,render:function(e,t){return a?l.a.createElement("a",{onClick:function(){s(!0),m({name:t.key,id:t.id})}},e):e},sorter:function(e,t){return function(e,t){return e===t?0:e>t?1:-1}(e.\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440,t.\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440)},sortDirections:["ascend"]}].concat(Object(j.a)(O.map((function(e){var t,a=E[e]&&E[e].map((function(e){return{text:e,value:e}}));return{title:(t="\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"===e?"\u0421\u0444\u0435\u0440\u0430":e,t.charAt(0).toUpperCase()+t.slice(1)),dataIndex:e,editable:!0,width:250,data:w[e],filters:a,type:"select",onFilter:function(t,a){return a[e]===t}}})))),b.loading)||(n?b.data.filter((function(e){return e.dictionaries.\u0422\u0438\u043f&&"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f"===e.dictionaries.\u0422\u0438\u043f})):b.data.filter((function(e){return e.dictionaries.\u0422\u0438\u043f&&"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"===e.dictionaries.\u0422\u0438\u043f}))).map((function(e){var t={id:e.id,key:e.name,"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440":e.name};(function(e){return Object.keys(e).map((function(e){return e}))})(e.dictionaries).map((function(a){t=Object(k.a)({},t,Object(p.a)({},a,e.dictionaries[a]))})),v.push(t)}));var I=function(){var e=Object(g.a)(y.a.mark((function e(t,a,r){var c,i,o,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={name:t["\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"],dictionaries:[n?229:227]},i=[],e.next=5,a.validateFields();case 5:o=e.sent,l=Object.keys(o).map((function(e){return{name:e,value:o[e]}})),l.filter((function(e){return void 0!==e.value&&"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"!==e.name})).map((function(e){if("\u041e\u0442\u0440\u0430\u0441\u043b\u044c"===e.name){var t=n?"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050":"\u0421\u0444\u0435\u0440\u0430",a=f.data.find((function(e){return e.name===t})).options.find((function(t){return t.options.find((function(t){return t.name===e.value}))})).options.find((function(t){return t.name===e.value}));i=[].concat(Object(j.a)(i),[a.id])}else{var r=f.data.find((function(t){return t.name===e.name})).options.find((function(t){return t.name===e.value}));i=[].concat(Object(j.a)(i),[r.id])}})),c.dictionaries=[].concat(Object(j.a)(c.dictionaries),Object(j.a)(i)),ra("/sc-analytic-indicators/api/indicators/".concat(t.id),c).then((function(e){return aa("/sc-analytic-indicators/api/indicators").then((function(e){h({loading:!1,data:e.data})}))})).catch((function(e){return console.log(e)})),a.resetFields(),r(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a,n){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(ha,{open:i,setOpen:s,className:"AdminIndicator_style"}),l.a.createElement(ka,{cols:t,data:v,loading:b.loading,url:"/sc-analytic-indicators/api/indicators",setFetchedData:h,save:I,isLink:a}))}),ua=function(e){var t=e.placeholder,a=void 0===t?"\u041d\u043e\u0432\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442":t,n=e.defaultValue,r=void 0===n?"":n,c=e.required,i=void 0===c||c,o=e.inptRef;return l.a.createElement(Te.a,{placeholder:a,defaultValue:r,required:i,allowClear:!0,ref:o,className:"AdminInput_style"})},da=function(e){return l.a.createElement(dt.a,{defaultActiveKey:"1",tabPosition:e.position||"left",className:e.classname||"Indicators_tab_style"},e.children)},ma=a(447),fa=function(e){var t=e.plan,a=Object(o.useState)({date:null,value:null}),n=Object(de.a)(a,2),r=n[0],c=n[1],i=Object(o.useState)({alert:!1}),s=Object(de.a)(i,2),u=s[0],d=s[1],m=Object(o.useContext)($t),f=m.modalIndicator,p=m.setFetchedIndicatorInfoData,b=_e.a.useForm(),y=Object(de.a)(b,1)[0];return l.a.createElement(_e.a,{form:y,className:"Controllers_style_inner"},l.a.createElement(_e.a.Item,{className:"Controllers_style_item"},l.a.createElement(Ce.a,null,l.a.createElement(_e.a.Item,{name:"datepicker_field",className:"datepicker_field_style"},l.a.createElement(Ce.a,null,l.a.createElement(yt.a,{onChange:function(e,t){return c((function(e){return Object(k.a)({},e,{date:{year:t}})}))},picker:"year",allowClear:!0,placeholder:"\u0413\u043e\u0434",locale:pa}),l.a.createElement(Ea,{placeholder:"\u041c\u0435\u0441\u044f\u0446",data:ba,style:{width:170,background:"#fff",color:"#333"},callBack:function(e){return c((function(t){return Object(k.a)({},t,{date:Object(k.a)({},t.date,{month:e})})}))}}))),l.a.createElement(_e.a.Item,{name:"number_field"},l.a.createElement(Re.a,{onChange:function(e){return c((function(t){return Object(k.a)({},t,{value:e})}))},placeholder:t})),l.a.createElement(fe.a,{type:"primary",onClick:function(){if(r.date&&r.value){var e={date:r.date.month?"".concat(r.date.year,"-").concat(r.date.month,"-15"):"".concat(r.date.year,"-12-31"),"edit-comment":"",fact:"\u0424\u0430\u043a\u0442"===t?r.value:null,planned:"\u0424\u0430\u043a\u0442"!==t?r.value:null};c({date:null,value:null}),na("/sc-analytic-indicators/api/indicators/".concat(f.id,"/indexes"),e).then((function(e){d({alert:!0,message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",description:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"success"}),setTimeout((function(){return d({alert:!1})}),15e3),aa("/sc-analytic-indicators/api/indicators/".concat(f.id,"/indexes")).then((function(e){p({data:e.data,loading:!1})}))})).catch((function(e){d({alert:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441 \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"error"}),setTimeout((function(){return d({alert:!1})}),15e3)})),y.resetFields()}else d({alert:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u044b\u043d\u0435 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"error"}),setTimeout((function(){return d({alert:!1})}),15e3)}},"+"))),u.alert&&l.a.createElement(ma.a,{message:u.message,description:u.description,type:u.type,closable:!0,onClose:function(){return d({alert:!1})},style:{margin:15}}))},pa={lang:{locale:"ru",placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0430\u0442\u0443",today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",now:"\u0421\u0435\u0439\u0447\u0430\u0441",ok:"\u043e\u043a",clear:"\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",month:"\u041c\u0435\u0441\u044f\u0446",year:"\u0413\u043e\u0434",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthFormat:"MMMM",monthBeforeYear:!1},timePickerLocale:{placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f"},dateFormat:"YYYY-MM-DD",dateTimeFormat:"YYYY-MM-DD HH:mm:ss",weekFormat:"YYYY-wo",monthFormat:"YYYY-MM"},ba=[{id:"01",title:"\u042f\u043d\u0432\u0430\u0440\u044c",value:"\u042f\u043d\u0432\u0430\u0440\u044c",children:[]},{id:"02",title:"\u0424\u0435\u0432\u0440\u0430\u043b\u044c",value:"\u0424\u0435\u0432\u0440\u0430\u043b\u044c",children:[]},{id:"03",title:"\u041c\u0430\u0440\u0442",value:"\u041c\u0430\u0440\u0442",children:[]},{id:"04",title:"\u0410\u043f\u0440\u0435\u043b\u044c",value:"\u0410\u043f\u0440\u0435\u043b\u044c",children:[]},{id:"05",title:"\u041c\u0430\u0439",value:"\u041c\u0430\u0439",children:[]},{id:"06",title:"\u0418\u044e\u043d\u044c",value:"\u0418\u044e\u043d\u044c",children:[]},{id:"07",title:"\u0418\u044e\u043b\u044c",value:"\u0418\u044e\u043b\u044c",children:[]},{id:"08",title:"\u0410\u0432\u0433\u0443\u0441\u0442",value:"\u0410\u0432\u0433\u0443\u0441\u0442",children:[]},{id:"09",title:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c",value:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c",children:[]},{id:"10",title:"\u041e\u043a\u0442\u044f\u0431\u0440\u044c",value:"\u041e\u043a\u0442\u044f\u0431\u0440\u044c",children:[]},{id:"11",title:"\u041d\u043e\u044f\u0431\u0440\u044c",value:"\u041d\u043e\u044f\u0431\u0440\u044c",children:[]},{id:"12",title:"\u0414\u0435\u043a\u0430\u0431\u0440\u044c",value:"\u0414\u0435\u043a\u0430\u0431\u0440\u044c",children:[]}],ya=function(e){var t=e.plan,a=(e.isStrategy,Object(o.useContext)($t)),n=a.fetchedIndicatorInfoData,r=a.setFetchedIndicatorInfoData,c=a.modalIndicator,i=[{title:"\u0414\u0430\u0442\u0430",dataIndex:"year",key:"year",render:function(e){return l.a.createElement("a",null,e)}},{title:t,dataIndex:t,key:t,type:"number",editable:!0},{title:"\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",dataIndex:"date",key:"date"},{title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",key:"comment",editable:!0,dataIndex:"comment"}],s=!n.loading&&n.data.map((function(e,a){var n=e["last-edit"].substr(0,e["last-edit"].indexOf("T")),r=e.date.substr(0,7);return"\u041f\u043b\u0430\u043d"===t?e.planned&&{key:a,id:e.id,year:r,"\u041f\u043b\u0430\u043d":e.planned,date:n,comment:e["edit-comment"]}:e.fact&&{key:a,id:e.id,year:r,"\u0424\u0430\u043a\u0442":e.fact,date:n,comment:e["edit-comment"]}}));s=s&&s.filter((function(e){return void 0!==e&&null!==e}));var u=function(){var e=Object(g.a)(y.a.mark((function e(t,a,i){var o,l,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.validateFields();case 3:o=e.sent,l=n.data.find((function(e){return e.id===t.id})),s={date:"".concat(t.year,"-01"),"edit-comment":o.comment,fact:o.\u0424\u0430\u043a\u0442?o.\u0424\u0430\u043a\u0442:l.fact,planned:o.\u041f\u043b\u0430\u043d?o.\u041f\u043b\u0430\u043d:l.planned},ra("/sc-analytic-indicators/api/indexes/".concat(t.id),s).then((function(e){return aa("/sc-analytic-indicators/api/indicators/".concat(c.id,"/indexes")).then((function(e){r({data:e.data,loading:!1})}))})).catch((function(e){return console.log(e)})),i(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}();return l.a.createElement(ka,{cols:i,data:s,loading:n.loading,url:"/sc-analytic-indicators/api/indexes",setFetchedData:r,url2:"/sc-analytic-indicators/api/indicators/".concat(c.id,"/indexes"),save:u,edit:function(e,t,a){t.setFieldsValue(Object(k.a)({},e)),a(e.key)}})},ga=function(e){var t=e.plan,a=e.isStrategy;return l.a.createElement("div",{className:"Controllers_style"},l.a.createElement(fa,{plan:t}),l.a.createElement(ya,{plan:t,isStrategy:a}))},ha=function(e){var t=e.open,a=e.setOpen,n=Object(o.useContext)($t),r=n.modalIndicator,c=n.setFetchedIndicatorInfoData;Object(o.useEffect)((function(){return r&&aa("/sc-analytic-indicators/api/indicators/".concat(r.id,"/indexes")).then((function(e){return c((function(t){return Object(k.a)({},t,{data:e.data,loading:!1})}))})),function(){return c({loading:!0})}}),[r,c]);var i=dt.a.TabPane,s=function(){a(!1)};return l.a.createElement(ze.a,{title:r&&r.name,visible:t,width:"auto",onOk:s,onCancel:s,className:"AdminModal_style"},l.a.createElement(da,{position:"top"},l.a.createElement(i,{tab:"\u041f\u043b\u0430\u043d",key:"1"},l.a.createElement(ga,{plan:"\u041f\u043b\u0430\u043d"})),l.a.createElement(i,{tab:"\u0424\u0430\u043a\u0442",key:"2"},l.a.createElement(ga,{plan:"\u0424\u0430\u043a\u0442"}))))},va=function(e){e.style,e.ref;var t=Object(o.useRef)(),a=Object(o.useContext)($t).setSearchText;return l.a.createElement(Te.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0430",defaultValue:"",ref:t,allowClear:!0,onChange:function(){return a(t.current.input.value)},className:"AdminSearch_style"})},Oa=a(439),Ea=function(e){var t=e.data,a=e.placeholder,n=void 0===a?"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a":a,r=e.style,c=void 0===r?{margin:5,marginLeft:0,marginRight:8}:r,i=e.callBack,s=e.defaultValue,u=Object(o.useContext)($t),d=u.setSelectedDictionaryName,m=u.setSelectedIndustry,f=u.dictionary_names,p=function(e){return d(e)},b=function(e){var a=t.find((function(t){return t.value===e}));m(e),i&&a&&i(a.id)},y=function(e){return e.map((function(e){return{title:e,value:e,children:[]}}))};return l.a.createElement(l.a.Fragment,null,t?l.a.createElement(Oa.a,{style:c,allowClear:!0,placeholder:n,treeData:t,onChange:b,className:"AdminSelect_style",defaultValue:s}):l.a.createElement(Oa.a,{placeholder:n,onChange:p,style:c,treeData:y(f),className:"AdminSelect_style"}))},ja=function(e){var t=e.data,a=e.editing,n=e.dataIndex,r=(e.title,e.inputType),c=(e.record,e.children),i=Object(ue.a)(e,["data","editing","dataIndex","title","inputType","record","children"]),o=function(e){switch(e){case"select":return l.a.createElement(Ye.a,{placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",allowClear:!0},t&&t.map((function(e){return l.a.createElement(Ye.a.Option,{key:"".concat(e.title,"-").concat(e.id),value:e.title},e.title)})));case"number":return l.a.createElement(Re.a,{className:"Edit_input_style"});default:return l.a.createElement(Te.a,{className:"Edit_input_style"})}}(r);return l.a.createElement("td",Object.assign({},i,{className:"Table_td_style_line"}),a?l.a.createElement(_e.a.Item,{name:n,style:{margin:0},rules:"select"!==r&&"date"!==r&&"number"!==r&&[{required:!0,message:"\u044d\u0442\u043e \u043f\u043e\u043b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c!"}]},o):c)},ka=function(e){var t=e.cols,a=e.data,n=e.loading,r=e.url,c=e.url2,i=e.setFetchedData,s=e.save,u=e.isLink,d=Object(o.useContext)($t).searchText,m=Object(o.useState)(),f=Object(de.a)(m,2),p=f[0],b=f[1],y=Object(o.useState)(""),g=Object(de.a)(y,2),h=g[0],v=g[1],O=_e.a.useForm(),E=Object(de.a)(O,1)[0];Object(o.useEffect)((function(){a&&d&&b(a.filter((function(e){var t=e.children&&e.children.some((function(e){return e.key.toLowerCase().includes(d.toLowerCase())})),a=e.key.toLowerCase().includes(d.toLowerCase());return t||a})))}),[a,d]);var w=function(e){return e.key===h},x=function(){v("")},_=u?t:[].concat(Object(j.a)(t),[{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435",dataIndex:"",key:"x",render:function(e,t){return w(t)?l.a.createElement("span",null,l.a.createElement("a",{onClick:function(){return s(t,E,v)},style:{marginRight:8}},l.a.createElement(De.a,{className:"icon_edit_btn_style",title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})),l.a.createElement(Ie.a,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",onConfirm:x},l.a.createElement(Se.a,{className:"icon_edit_btn_style",title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}))):l.a.createElement(Ce.a,null,l.a.createElement("a",{disabled:""!==h,onClick:function(){return function(e,t,a){t.setFieldsValue(Object(k.a)({},e)),a(e.key)}(t,E,v)}},l.a.createElement(Ne.a,{className:"icon_edit_btn_style",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})),l.a.createElement(Ie.a,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u043d\u044b\u043d\u0435?",onConfirm:function(){return I(t.id)}},l.a.createElement(Me.a,{className:"icon_edit_btn_style",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})))}}]);t="\u0412\u0441\u0435 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438"===t[0].title?t:_;var I=function(e){ca("".concat(r,"/").concat(e)).then((function(e){return aa(c||r).then((function(e){return i({loading:!1,data:e.data})})).catch((function(e){return console.log(e)}))}))},C=t.map((function(e,t){return e.editable?Object(k.a)({},e,{onCell:function(t){return{record:t,setIndicator:e.setIndicator,inputType:e.type,dataIndex:e.dataIndex,title:e.title,data:e.data,editing:w(t),callBack:e.callBack}}}):e}));return l.a.createElement(_e.a,{form:E,component:!1},l.a.createElement(Fe.a,{components:{body:{cell:ja}},locale:{filterTitle:"\u041c\u0435\u043d\u044e \u0444\u0438\u043b\u044c\u0442\u0440\u0430",filterConfirm:"\u041e\u043a",filterReset:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",filterEmptyText:"\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432",selectAll:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",selectInvert:"Invert current page",selectionAll:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",sortTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",expand:"Expand row",collapse:"Collapse row",triggerDesc:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",triggerAsc:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",cancelSort:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443"},columns:C,dataSource:d?p:a,loading:n,pagination:{pageSizeOptions:["10","20","25","30"],showSizeChanger:!0,locale:{items_per_page:""},onChange:x},className:"AdminTable_style"}))},wa=function(){var e,t=Object(o.useContext)($t),a=t.selectedDictionaryName,n=t.fetchedDictionaryData,r=t.setFetchedDictionaryData,c=[];if(e=a?[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:a,editable:!0,width:"90%"}]:[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"All",width:"90%",padding:"10px"}],!n.loading){var i,s=n.data.filter((function(e){return"\u0422\u0438\u043f"!==e.name})),u=s.find((function(e){return e.name===a}));c=a?u.options.map((function(e){var t;return e.options.length>0?(t={key:e.name,id:e.id,tag:e.tag,"parent-id":u.id},Object(p.a)(t,e.tag,e.name),Object(p.a)(t,"children",e.options.map((function(t){var a;return a={key:t.name},Object(p.a)(a,e.tag,t.name),Object(p.a)(a,"parent-id",e.id),Object(p.a)(a,"tag",e.tag),Object(p.a)(a,"id",t.id),a}))),t):Object(p.a)({key:e.name,id:e.id,tag:e.tag,"parent-id":u.id},a,e.name)})):(i=[]).concat.apply(i,Object(j.a)(s.map((function(e){return"\u0421\u0444\u0435\u0440\u0430"===e.name||"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"===a?e.options.map((function(e){return{key:e.name,All:e.name,children:e.options.map((function(e){return{key:e.name,All:e.name}}))}})):{key:e.name,All:e.name,children:e.options.map((function(e){return{key:e.name,All:e.name}}))}}))))}var d=function(){var e=Object(g.a)(y.a.mark((function e(t,a,n){var c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.validateFields();case 3:c=e.sent,i={name:c[t.tag],tag:t.tag},ra("/sc-analytic-indicators/api/dictionaries/".concat(t.id),i).then((function(e){return aa("/sc-analytic-indicators/api/dictionaries").then((function(e){return r({loading:!1,data:e.data})}))})).catch((function(e){return console.log(e)})),n(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}();return l.a.createElement(ka,{cols:e,data:c,loading:n.loading,url:"/sc-analytic-indicators/api/dictionaries",setFetchedData:r,save:d})},xa=function(e){var t,a=e.ant_form,n=(e.setIsError,Object(o.useRef)()),r=Object(o.useRef)(),c=Object(o.useState)({alert:!1}),i=Object(de.a)(c,2),s=i[0],u=i[1],d=Object(o.useContext)($t),m=d.selectedIndustry,f=d.selectedDictionaryName,p=d.fetchedDictionaryData,b=d.setFetchedDictionaryData;p.loading||(t=p.data.find((function(e){return e.name===f})));var y=[];return t&&(y=t.options.map((function(e){return{id:e.id,title:e.name,value:e.name,children:[]}}))),l.a.createElement(l.a.Fragment,null,f&&l.a.createElement(_e.a.Item,{name:"dictionary-controllers Controllers_style"},l.a.createElement("div",{className:"form_add_sphere Controllers_style_inner"},l.a.createElement(ua,{inptRef:n,required:!0,placeholder:"\u0421\u0444\u0435\u0440\u0430"===f||"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"===f?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0444\u0435\u0440\u0443":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),l.a.createElement(ia,{handleAdd:function(){if(n.current.input.value){var e=n.current.input.value,r={"parent-id":t.id,tag:f,name:e,options:[]};na("/sc-analytic-indicators/api/dictionaries",r).then((function(e){u({alert:!0,message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",description:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"success"}),setTimeout((function(){return u({alert:!1})}),3e3),aa("/sc-analytic-indicators/api/dictionaries").then((function(e){return b({loading:!1,data:e.data})})).catch((function(e){u({alert:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441 \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"error"}),setTimeout((function(){return u({alert:!1})}),3e3)}))})),a.resetFields()}else u({alert:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"error"}),setTimeout((function(){return u({alert:!1})}),3e3)},text1:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0444\u0435\u0440\u0443"}))),"\u0421\u0444\u0435\u0440\u0430"===f||"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"===f?l.a.createElement(_e.a.Item,{className:"form_add_sphere_wrap"},l.a.createElement(Ea,{data:y,placeholder:"\u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0432\u044b\u0431\u043e\u0440"}),l.a.createElement("div",{className:"form_add_sphere"},l.a.createElement(_e.a.Item,{name:"dictionary-child-controllers"},l.a.createElement(ua,{inptRef:r,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043e\u0442\u0440\u0430\u0441\u043b\u044c",required:!0})),l.a.createElement(ia,{handleAdd:function(){if(m&&r.current.input.value){var e=r.current.input.value,n={"parent-id":t.options.find((function(e){return e.name===m})).id,tag:"\u041e\u0442\u0440\u0430\u0441\u043b\u044c",name:e,options:[]};na("/sc-analytic-indicators/api/dictionaries",n).then((function(e){u({alert:!0,message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",description:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"success"}),setTimeout((function(){return u({alert:!1})}),3e3),aa("/sc-analytic-indicators/api/dictionaries").then((function(e){return b({loading:!1,data:e.data})})).catch((function(e){u({alert:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441 \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"error"}),setTimeout((function(){return u({alert:!1})}),3e3)}))})),a.resetFields()}else u({alert:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u044b\u043d\u0435 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"error"}),setTimeout((function(){return u({alert:!1})}),3e3)},text2:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0440\u0430\u0441\u043b\u044c"}))):null,s.alert&&l.a.createElement(ma.a,{message:s.message,description:s.description,type:s.type,closable:!0,onClose:function(){return u({alert:!1})},style:{margin:15}}))},_a=function(){var e=_e.a.useForm(),t=Object(de.a)(e,1)[0],a=Object(o.useContext)($t).setFetchedDictionaryData;return Object(o.useEffect)((function(){aa("/sc-analytic-indicators/api/dictionaries").then((function(e){a({loading:!1,data:e.data})}))}),[]),l.a.createElement(_e.a,{form:t},l.a.createElement(_e.a.Item,{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",{className:"first_stage_filter"},l.a.createElement(Ea,null))),l.a.createElement(xa,{ant_form:t}),l.a.createElement(_e.a.Item,null,l.a.createElement(va,{style:{width:"40%",margin:"5 0",marginRight:8}}),l.a.createElement(wa,null)))},Ia=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ea,null,l.a.createElement(_a,null)))},Ca=function(e){var t=e.isStrategy,a=Object(o.useState)([]),n=Object(de.a)(a,2),r=n[0],c=n[1],i=Object(o.useContext)($t),s=i.fetchedDictionaryData,u=i.setFetchedIndicatorData,d=i.setFetchedIndicatorStrategyData,m=Object(o.useRef)(),f=_e.a.useForm(),p=Object(de.a)(f,1)[0],b=Object(o.useState)({alert:!1}),y=Object(de.a)(b,2),g=y[0],h=y[1],v=function(e){c((function(t){return[].concat(Object(j.a)(t),[e])}))};return l.a.createElement("div",{className:"form_indicators"},!s.loading&&l.a.createElement(_e.a,{form:p},l.a.createElement(_e.a.Item,null,l.a.createElement(_e.a.Item,{name:"input"},l.a.createElement(ua,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u0430",inptRef:m,style:{margin:20,marginLeft:0,marginTop:0,minWidth:250,width:250}})),function(){var e,a=[],n=[];s.loading||(n=s.data.find((function(e){return t?"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"===e.name:"\u0421\u0444\u0435\u0440\u0430"===e.name})).options.map((function(e){return e.options.map((function(e){return{name:e.name,id:e.id}}))})),a=s.data.filter((function(e){return"\u0422\u0438\u043f"!==e.name})).filter((function(e){return t?"\u0421\u0444\u0435\u0440\u0430"!==e.name:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"!==e.name})).map((function(e,a){var n=t?"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050":"\u0421\u0444\u0435\u0440\u0430",r=e.options.map((function(t){return e.name===n?{id:t.id,title:t.name,value:t.name,children:[]}:{id:t.id,title:t.name,value:t.name,children:t.options.map((function(e){return{id:e.id,title:e.name,value:e.name,children:[]}}))}}));return l.a.createElement(Ea,{key:a,placeholder:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2050"===e.name?"\u0421\u0444\u0435\u0440\u0430":e.name,data:r,callBack:function(e){return v(e)}})})));return a.push(l.a.createElement(Ea,{key:45,placeholder:"\u041e\u0442\u0440\u0430\u0441\u043b\u044c",data:(e=[]).concat.apply(e,Object(j.a)(n)).map((function(e){return{id:e.id,title:e.name,value:e.name,children:[]}})),callBack:function(e){return v(e)}})),a.map((function(e){return e}))}(),l.a.createElement(ia,{type:"primary",handleAdd:function(){if(m.current.input.value){var e=t?229:227,a={name:m.current.input.value,dictionaries:[].concat(Object(j.a)(r),[e])};na("/sc-analytic-indicators/api/indicators",a).then((function(e){h({alert:!0,message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",description:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"success"}),setTimeout((function(){return h({alert:!1})}),3e3),aa("/sc-analytic-indicators/api/indicators").then((function(e){u({loading:!1,data:e.data}),d({loading:!1,data:e.data})})).catch((function(e){h({alert:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441 \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"error"}),setTimeout((function(){return h({alert:!1})}),3e3)}))})),p.resetFields()}else h({alert:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u044b\u043d\u0435 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",type:"error"}),setTimeout((function(){return h({alert:!1})}),3e3)},text3:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"})),g.alert&&l.a.createElement(ma.a,{message:g.message,description:g.description,type:g.type,closable:!0,onClose:function(){return h({alert:!1})},style:{margin:15}})))},Fa=function(){var e=dt.a.TabPane,t=Object(o.useContext)($t),a=t.fetchedDictionaryData,n=t.setFetchedDictionaryData;return Object(o.useEffect)((function(){a.data||aa("/sc-analytic-indicators/api/dictionaries").then((function(e){n({loading:!1,data:e.data})}))}),[]),l.a.createElement(da,{position:"top"},l.a.createElement(e,{tab:"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",key:"1"},l.a.createElement(Ca,null),l.a.createElement(sa,null)),l.a.createElement(e,{tab:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438",key:"2"},l.a.createElement(Ca,{isStrategy:!0}),l.a.createElement(sa,{isStrategy:!0})))},Da=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ea,null,l.a.createElement(Fa,null)))},Sa=function(){var e=dt.a.TabPane;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ea,null,l.a.createElement(da,{position:"top"},l.a.createElement(e,{tab:"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",key:"1"},l.a.createElement(la,null,l.a.createElement(sa,{isLink:!0}))),l.a.createElement(e,{tab:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438",key:"2"},l.a.createElement(la,null,l.a.createElement(sa,{isStrategy:!0,isLink:!0}))))))},Na=function(){return l.a.createElement(se.d,null,l.a.createElement(se.a,{exact:!0,from:"/",to:"/\u0420\u043e\u043b\u0438"}),l.a.createElement(we,{exact:!0,path:"/\u0420\u043e\u043b\u0438",component:tt}),l.a.createElement(we,{exact:!0,path:"/\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",component:Qe}),l.a.createElement(we,{exact:!0,path:"/\u041a\u0430\u0440\u0442\u0430 \u0440\u0435\u043c\u043e\u043d\u0442\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442",component:Zt}),l.a.createElement(se.b,{path:"/\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438",component:function(){return l.a.createElement(ke,null,l.a.createElement(Ia,null))}}),l.a.createElement(se.b,{path:"/\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u044b",component:function(){return l.a.createElement(ke,null,l.a.createElement(Da,null))}}),l.a.createElement(se.b,{path:"/\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432",component:function(){return l.a.createElement(ke,null,l.a.createElement(Sa,null))}}),l.a.createElement(se.b,{path:"/\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0438",component:function(){return l.a.createElement(ke,null,l.a.createElement(Ue,null))}}),l.a.createElement(se.b,{exact:!0,path:"/\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",component:Ke}),l.a.createElement(se.b,{exact:!0,path:"*",render:function(){return l.a.createElement(se.a,{to:"/\u0420\u043e\u043b\u0438"})}}))};a(433);var Ma=function(){return l.a.createElement(Na,null)},Ya=Object(d.a)({reducer:{roadmap:U,admin:E,roles:re,users:le}});u.a.render(l.a.createElement(m.a,{store:Ya},l.a.createElement(f.a,{basename:"/admin"},l.a.createElement(Ma,null))),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.d6972aa7.chunk.js.map